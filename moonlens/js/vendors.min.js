/*!
 * jQuery Form Plugin
 * version: 3.51.0-2014.06.20
 * Requires jQuery v1.5 or later
 * Copyright (c) 2014 M. Alsup
 * Examples and documentation at: http://malsup.com/jquery/form/
 * Project repository: https://github.com/malsup/form
 * Dual licensed under the MIT and GPL licenses.
 * https://github.com/malsup/form#copyright-and-license
 */
!function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):e("undefined"!=typeof jQuery?jQuery:window.Zepto)}((function(e){"use strict";function t(t){var r=t.data;t.isDefaultPrevented()||(t.preventDefault(),e(t.target).ajaxSubmit(r))}function r(t){var r=t.target,i=e(r);if(!i.is("[type=submit],[type=image]")){var n=i.closest("[type=submit]");if(0===n.length)return;r=n[0]}var a=this;if(a.clk=r,"image"==r.type)if(void 0!==t.offsetX)a.clk_x=t.offsetX,a.clk_y=t.offsetY;else if("function"==typeof e.fn.offset){var o=i.offset();a.clk_x=t.pageX-o.left,a.clk_y=t.pageY-o.top}else a.clk_x=t.pageX-r.offsetLeft,a.clk_y=t.pageY-r.offsetTop;setTimeout((function(){a.clk=a.clk_x=a.clk_y=null}),100)}function i(){if(e.fn.ajaxSubmit.debug){var t="[jquery.form] "+Array.prototype.join.call(arguments,"");window.console&&window.console.log?window.console.log(t):window.opera&&window.opera.postError&&window.opera.postError(t)}}var n={};n.fileapi=void 0!==e("<input type='file'/>").get(0).files,n.formdata=void 0!==window.FormData;var a=!!e.fn.prop;e.fn.attr2=function(){if(!a)return this.attr.apply(this,arguments);var e=this.prop.apply(this,arguments);return e&&e.jquery||"string"==typeof e?e:this.attr.apply(this,arguments)},e.fn.ajaxSubmit=function(t){function r(r){function n(e){var t=null;try{e.contentWindow&&(t=e.contentWindow.document)}catch(e){i("cannot get iframe.contentWindow document: "+e)}if(t)return t;try{t=e.contentDocument?e.contentDocument:e.document}catch(r){i("cannot get iframe.contentDocument: "+r),t=e.document}return t}function s(){var t=c.attr2("target"),r=c.attr2("action"),a=c.attr("enctype")||c.attr("encoding")||"multipart/form-data";S.setAttribute("target",m),(!o||/post/i.test(o))&&S.setAttribute("method","POST"),r!=p.url&&S.setAttribute("action",p.url),p.skipEncodingOverride||o&&!/post/i.test(o)||c.attr({encoding:"multipart/form-data",enctype:"multipart/form-data"}),p.timeout&&(w=setTimeout((function(){k=!0,l(T)}),p.timeout));var s=[];try{if(p.extraData)for(var u in p.extraData)p.extraData.hasOwnProperty(u)&&s.push(e.isPlainObject(p.extraData[u])&&p.extraData[u].hasOwnProperty("name")&&p.extraData[u].hasOwnProperty("value")?e('<input type="hidden" name="'+p.extraData[u].name+'">').val(p.extraData[u].value).appendTo(S)[0]:e('<input type="hidden" name="'+u+'">').val(p.extraData[u]).appendTo(S)[0]);p.iframeTarget||g.appendTo("body"),v.attachEvent?v.attachEvent("onload",l):v.addEventListener("load",l,!1),setTimeout((function e(){try{var t=n(v).readyState;i("state = "+t),t&&"uninitialized"==t.toLowerCase()&&setTimeout(e,50)}catch(e){i("Server abort: ",e," (",e.name,")"),l(P),w&&clearTimeout(w),w=void 0}}),15);try{S.submit()}catch(e){document.createElement("form").submit.apply(S)}}finally{S.setAttribute("action",r),S.setAttribute("enctype",a),t?S.setAttribute("target",t):c.removeAttr("target"),e(s).remove()}}function l(t){if(!y.aborted&&!O){if((z=n(v))||(i("cannot access response document"),t=P),t===T&&y)return y.abort("timeout"),void E.reject(y,"timeout");if(t==P&&y)return y.abort("server abort"),void E.reject(y,"error","server abort");if(z&&z.location.href!=p.iframeSrc||k){v.detachEvent?v.detachEvent("onload",l):v.removeEventListener("load",l,!1);var r,a="success";try{if(k)throw"timeout";var o="xml"==p.dataType||z.XMLDocument||e.isXMLDoc(z);if(i("isXml="+o),!o&&window.opera&&(null===z.body||!z.body.innerHTML)&&--R)return i("requeing onLoad callback, DOM not available"),void setTimeout(l,250);var s=z.body?z.body:z.documentElement;y.responseText=s?s.innerHTML:null,y.responseXML=z.XMLDocument?z.XMLDocument:z,o&&(p.dataType="xml"),y.getResponseHeader=function(e){return{"content-type":p.dataType}[e.toLowerCase()]},s&&(y.status=Number(s.getAttribute("status"))||y.status,y.statusText=s.getAttribute("statusText")||y.statusText);var c=(p.dataType||"").toLowerCase(),u=/(json|script|text)/.test(c);if(u||p.textarea){var d=z.getElementsByTagName("textarea")[0];if(d)y.responseText=d.value,y.status=Number(d.getAttribute("status"))||y.status,y.statusText=d.getAttribute("statusText")||y.statusText;else if(u){var h=z.getElementsByTagName("pre")[0],m=z.getElementsByTagName("body")[0];h?y.responseText=h.textContent?h.textContent:h.innerText:m&&(y.responseText=m.textContent?m.textContent:m.innerText)}}else"xml"==c&&!y.responseXML&&y.responseText&&(y.responseXML=D(y.responseText));try{A=j(y,c,p)}catch(e){a="parsererror",y.error=r=e||a}}catch(e){i("error caught: ",e),a="error",y.error=r=e||a}y.aborted&&(i("upload aborted"),a=null),y.status&&(a=y.status>=200&&y.status<300||304===y.status?"success":"error"),"success"===a?(p.success&&p.success.call(p.context,A,"success",y),E.resolve(y.responseText,"success",y),f&&e.event.trigger("ajaxSuccess",[y,p])):a&&(void 0===r&&(r=y.statusText),p.error&&p.error.call(p.context,y,a,r),E.reject(y,"error",r),f&&e.event.trigger("ajaxError",[y,p,r])),f&&e.event.trigger("ajaxComplete",[y,p]),f&&!--e.active&&e.event.trigger("ajaxStop"),p.complete&&p.complete.call(p.context,y,a),O=!0,p.timeout&&clearTimeout(w),setTimeout((function(){p.iframeTarget?g.attr("src",p.iframeSrc):g.remove(),y.responseXML=null}),100)}}}var u,d,p,f,m,g,v,y,b,x,k,w,S=c[0],E=e.Deferred();if(E.abort=function(e){y.abort(e)},r)for(d=0;d<h.length;d++)u=e(h[d]),a?u.prop("disabled",!1):u.removeAttr("disabled");if((p=e.extend(!0,{},e.ajaxSettings,t)).context=p.context||p,m="jqFormIO"+(new Date).getTime(),p.iframeTarget?(x=(g=e(p.iframeTarget)).attr2("name"))?m=x:g.attr2("name",m):(g=e('<iframe name="'+m+'" src="'+p.iframeSrc+'" />')).css({position:"absolute",top:"-1000px",left:"-1000px"}),v=g[0],y={aborted:0,responseText:null,responseXML:null,status:0,statusText:"n/a",getAllResponseHeaders:function(){},getResponseHeader:function(){},setRequestHeader:function(){},abort:function(t){var r="timeout"===t?"timeout":"aborted";i("aborting upload... "+r),this.aborted=1;try{v.contentWindow.document.execCommand&&v.contentWindow.document.execCommand("Stop")}catch(e){}g.attr("src",p.iframeSrc),y.error=r,p.error&&p.error.call(p.context,y,r,t),f&&e.event.trigger("ajaxError",[y,p,r]),p.complete&&p.complete.call(p.context,y,r)}},(f=p.global)&&0==e.active++&&e.event.trigger("ajaxStart"),f&&e.event.trigger("ajaxSend",[y,p]),p.beforeSend&&!1===p.beforeSend.call(p.context,y,p))return p.global&&e.active--,E.reject(),E;if(y.aborted)return E.reject(),E;(b=S.clk)&&((x=b.name)&&!b.disabled&&(p.extraData=p.extraData||{},p.extraData[x]=b.value,"image"==b.type&&(p.extraData[x+".x"]=S.clk_x,p.extraData[x+".y"]=S.clk_y)));var T=1,P=2,C=e("meta[name=csrf-token]").attr("content"),M=e("meta[name=csrf-param]").attr("content");M&&C&&(p.extraData=p.extraData||{},p.extraData[M]=C),p.forceSync?s():setTimeout(s,10);var A,z,O,R=50,D=e.parseXML||function(e,t){return window.ActiveXObject?((t=new ActiveXObject("Microsoft.XMLDOM")).async="false",t.loadXML(e)):t=(new DOMParser).parseFromString(e,"text/xml"),t&&t.documentElement&&"parsererror"!=t.documentElement.nodeName?t:null},_=e.parseJSON||function(e){return window.eval("("+e+")")},j=function(t,r,i){var n=t.getResponseHeader("content-type")||"",a="xml"===r||!r&&n.indexOf("xml")>=0,o=a?t.responseXML:t.responseText;return a&&"parsererror"===o.documentElement.nodeName&&e.error&&e.error("parsererror"),i&&i.dataFilter&&(o=i.dataFilter(o,r)),"string"==typeof o&&("json"===r||!r&&n.indexOf("json")>=0?o=_(o):("script"===r||!r&&n.indexOf("javascript")>=0)&&e.globalEval(o)),o};return E}if(!this.length)return i("ajaxSubmit: skipping submit process - no element selected"),this;var o,s,l,c=this;"function"==typeof t?t={success:t}:void 0===t&&(t={}),o=t.type||this.attr2("method"),(l=(l="string"==typeof(s=t.url||this.attr2("action"))?e.trim(s):"")||window.location.href||"")&&(l=(l.match(/^([^#]+)/)||[])[1]),t=e.extend(!0,{url:l,success:e.ajaxSettings.success,type:o||e.ajaxSettings.type,iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank"},t);var u={};if(this.trigger("form-pre-serialize",[this,t,u]),u.veto)return i("ajaxSubmit: submit vetoed via form-pre-serialize trigger"),this;if(t.beforeSerialize&&!1===t.beforeSerialize(this,t))return i("ajaxSubmit: submit aborted via beforeSerialize callback"),this;var d=t.traditional;void 0===d&&(d=e.ajaxSettings.traditional);var p,h=[],f=this.formToArray(t.semantic,h);if(t.data&&(t.extraData=t.data,p=e.param(t.data,d)),t.beforeSubmit&&!1===t.beforeSubmit(f,this,t))return i("ajaxSubmit: submit aborted via beforeSubmit callback"),this;if(this.trigger("form-submit-validate",[f,this,t,u]),u.veto)return i("ajaxSubmit: submit vetoed via form-submit-validate trigger"),this;var m=e.param(f,d);p&&(m=m?m+"&"+p:p),"GET"==t.type.toUpperCase()?(t.url+=(t.url.indexOf("?")>=0?"&":"?")+m,t.data=null):t.data=m;var g=[];if(t.resetForm&&g.push((function(){c.resetForm()})),t.clearForm&&g.push((function(){c.clearForm(t.includeHidden)})),!t.dataType&&t.target){var v=t.success||function(){};g.push((function(r){var i=t.replaceTarget?"replaceWith":"html";e(t.target)[i](r).each(v,arguments)}))}else t.success&&g.push(t.success);if(t.success=function(e,r,i){for(var n=t.context||this,a=0,o=g.length;o>a;a++)g[a].apply(n,[e,r,i||c,c])},t.error){var y=t.error;t.error=function(e,r,i){var n=t.context||this;y.apply(n,[e,r,i,c])}}if(t.complete){var b=t.complete;t.complete=function(e,r){var i=t.context||this;b.apply(i,[e,r,c])}}var x=e("input[type=file]:enabled",this).filter((function(){return""!==e(this).val()})).length>0,k="multipart/form-data",w=c.attr("enctype")==k||c.attr("encoding")==k,S=n.fileapi&&n.formdata;i("fileAPI :"+S);var E,T=(x||w)&&!S;!1!==t.iframe&&(t.iframe||T)?t.closeKeepAlive?e.get(t.closeKeepAlive,(function(){E=r(f)})):E=r(f):E=(x||w)&&S?function(r){for(var i=new FormData,n=0;n<r.length;n++)i.append(r[n].name,r[n].value);if(t.extraData){var a=function(r){var i,n,a=e.param(r,t.traditional).split("&"),o=a.length,s=[];for(i=0;o>i;i++)a[i]=a[i].replace(/\+/g," "),n=a[i].split("="),s.push([decodeURIComponent(n[0]),decodeURIComponent(n[1])]);return s}(t.extraData);for(n=0;n<a.length;n++)a[n]&&i.append(a[n][0],a[n][1])}t.data=null;var s=e.extend(!0,{},e.ajaxSettings,t,{contentType:!1,processData:!1,cache:!1,type:o||"POST"});t.uploadProgress&&(s.xhr=function(){var r=e.ajaxSettings.xhr();return r.upload&&r.upload.addEventListener("progress",(function(e){var r=0,i=e.loaded||e.position,n=e.total;e.lengthComputable&&(r=Math.ceil(i/n*100)),t.uploadProgress(e,i,n,r)}),!1),r}),s.data=null;var l=s.beforeSend;return s.beforeSend=function(e,r){r.data=t.formData?t.formData:i,l&&l.call(this,e,r)},e.ajax(s)}(f):e.ajax(t),c.removeData("jqxhr").data("jqxhr",E);for(var P=0;P<h.length;P++)h[P]=null;return this.trigger("form-submit-notify",[this,t]),this},e.fn.ajaxForm=function(n){if((n=n||{}).delegation=n.delegation&&e.isFunction(e.fn.on),!n.delegation&&0===this.length){var a={s:this.selector,c:this.context};return!e.isReady&&a.s?(i("DOM not ready, queuing ajaxForm"),e((function(){e(a.s,a.c).ajaxForm(n)})),this):(i("terminating; zero elements found by selector"+(e.isReady?"":" (DOM not ready)")),this)}return n.delegation?(e(document).off("submit.form-plugin",this.selector,t).off("click.form-plugin",this.selector,r).on("submit.form-plugin",this.selector,n,t).on("click.form-plugin",this.selector,n,r),this):this.ajaxFormUnbind().bind("submit.form-plugin",n,t).bind("click.form-plugin",n,r)},e.fn.ajaxFormUnbind=function(){return this.unbind("submit.form-plugin click.form-plugin")},e.fn.formToArray=function(t,r){var i=[];if(0===this.length)return i;var a,o,s,l,c,u,d,p,h=this[0],f=this.attr("id"),m=t?h.getElementsByTagName("*"):h.elements;if(m&&!/MSIE [678]/.test(navigator.userAgent)&&(m=e(m).get()),f&&((a=e(':input[form="'+f+'"]').get()).length&&(m=(m||[]).concat(a))),!m||!m.length)return i;for(o=0,d=m.length;d>o;o++)if((l=(u=m[o]).name)&&!u.disabled)if(t&&h.clk&&"image"==u.type)h.clk==u&&(i.push({name:l,value:e(u).val(),type:u.type}),i.push({name:l+".x",value:h.clk_x},{name:l+".y",value:h.clk_y}));else if((c=e.fieldValue(u,!0))&&c.constructor==Array)for(r&&r.push(u),s=0,p=c.length;p>s;s++)i.push({name:l,value:c[s]});else if(n.fileapi&&"file"==u.type){r&&r.push(u);var g=u.files;if(g.length)for(s=0;s<g.length;s++)i.push({name:l,value:g[s],type:u.type});else i.push({name:l,value:"",type:u.type})}else null!=c&&(r&&r.push(u),i.push({name:l,value:c,type:u.type,required:u.required}));if(!t&&h.clk){var v=e(h.clk),y=v[0];(l=y.name)&&!y.disabled&&"image"==y.type&&(i.push({name:l,value:v.val()}),i.push({name:l+".x",value:h.clk_x},{name:l+".y",value:h.clk_y}))}return i},e.fn.formSerialize=function(t){return e.param(this.formToArray(t))},e.fn.fieldSerialize=function(t){var r=[];return this.each((function(){var i=this.name;if(i){var n=e.fieldValue(this,t);if(n&&n.constructor==Array)for(var a=0,o=n.length;o>a;a++)r.push({name:i,value:n[a]});else null!=n&&r.push({name:this.name,value:n})}})),e.param(r)},e.fn.fieldValue=function(t){for(var r=[],i=0,n=this.length;n>i;i++){var a=this[i],o=e.fieldValue(a,t);null==o||o.constructor==Array&&!o.length||(o.constructor==Array?e.merge(r,o):r.push(o))}return r},e.fieldValue=function(t,r){var i=t.name,n=t.type,a=t.tagName.toLowerCase();if(void 0===r&&(r=!0),r&&(!i||t.disabled||"reset"==n||"button"==n||("checkbox"==n||"radio"==n)&&!t.checked||("submit"==n||"image"==n)&&t.form&&t.form.clk!=t||"select"==a&&-1==t.selectedIndex))return null;if("select"==a){var o=t.selectedIndex;if(0>o)return null;for(var s=[],l=t.options,c="select-one"==n,u=c?o+1:l.length,d=c?o:0;u>d;d++){var p=l[d];if(p.selected){var h=p.value;if(h||(h=p.attributes&&p.attributes.value&&!p.attributes.value.specified?p.text:p.value),c)return h;s.push(h)}}return s}return e(t).val()},e.fn.clearForm=function(t){return this.each((function(){e("input,select,textarea",this).clearFields(t)}))},e.fn.clearFields=e.fn.clearInputs=function(t){var r=/^(?:color|date|datetime|email|month|number|password|range|search|tel|text|time|url|week)$/i;return this.each((function(){var i=this.type,n=this.tagName.toLowerCase();r.test(i)||"textarea"==n?this.value="":"checkbox"==i||"radio"==i?this.checked=!1:"select"==n?this.selectedIndex=-1:"file"==i?/MSIE/.test(navigator.userAgent)?e(this).replaceWith(e(this).clone(!0)):e(this).val(""):t&&(!0===t&&/hidden/.test(i)||"string"==typeof t&&e(this).is(t))&&(this.value="")}))},e.fn.resetForm=function(){return this.each((function(){("function"==typeof this.reset||"object"==typeof this.reset&&!this.reset.nodeType)&&this.reset()}))},e.fn.enable=function(e){return void 0===e&&(e=!0),this.each((function(){this.disabled=!e}))},e.fn.selected=function(t){return void 0===t&&(t=!0),this.each((function(){var r=this.type;if("checkbox"==r||"radio"==r)this.checked=t;else if("option"==this.tagName.toLowerCase()){var i=e(this).parent("select");t&&i[0]&&"select-one"==i[0].type&&i.find("option").selected(!1),this.selected=t}}))},e.fn.ajaxSubmit.debug=!1})),window.Inputmask=function(e,t,r,i){function n(t,r,o){return this instanceof n?(this.el=i,this.events={},this.maskset=i,this.refreshValue=!1,void(!0!==o&&(e.isPlainObject(t)?r=t:(r=r||{},r.alias=t),this.opts=e.extend(!0,{},this.defaults,r),this.noMasksCache=r&&r.definitions!==i,this.userOptions=r||{},this.isRTL=this.opts.numericInput,a(this.opts.alias,r,this.opts)))):new n(t,r,o)}function a(t,r,o){var s=n.prototype.aliases[t];return s?(s.alias&&a(s.alias,i,o),e.extend(!0,o,s),e.extend(!0,o,r),!0):(null===o.mask&&(o.mask=t),!1)}function o(t,r){function a(t,a,o){if(null!==t&&""!==t||(t="*{*}"),1===t.length&&!1===o.greedy&&0!==o.repeat&&(o.placeholder=""),o.repeat>0||"*"===o.repeat||"+"===o.repeat){var s="*"===o.repeat?0:"+"===o.repeat?1:o.repeat;t=o.groupmarker.start+t+o.groupmarker.end+o.quantifiermarker.start+s+","+o.repeat+o.quantifiermarker.end}var l;return n.prototype.masksCache[t]===i||!0===r?(l={mask:t,maskToken:n.prototype.analyseMask(t,o),validPositions:{},_buffer:i,buffer:i,tests:{},metadata:a,maskLength:i},!0!==r&&(n.prototype.masksCache[o.numericInput?t.split("").reverse().join(""):t]=l,l=e.extend(!0,{},n.prototype.masksCache[o.numericInput?t.split("").reverse().join(""):t]))):l=e.extend(!0,{},n.prototype.masksCache[o.numericInput?t.split("").reverse().join(""):t]),l}if(e.isFunction(t.mask)&&(t.mask=t.mask(t)),e.isArray(t.mask)){if(t.mask.length>1){t.keepStatic=null===t.keepStatic||t.keepStatic;var o=t.groupmarker.start;return e.each(t.numericInput?t.mask.reverse():t.mask,(function(r,n){o.length>1&&(o+=t.groupmarker.end+t.alternatormarker+t.groupmarker.start),o+=n.mask===i||e.isFunction(n.mask)?n:n.mask})),a(o+=t.groupmarker.end,t.mask,t)}t.mask=t.mask.pop()}return t.mask&&t.mask.mask!==i&&!e.isFunction(t.mask.mask)?a(t.mask.mask,t.mask,t):a(t.mask,t.mask,t)}function s(a,o,l){function h(e,t,r){t=t||0;var n,a,o,s=[],c=0,u=g();-1===(Y=W!==i?W.maxLength:i)&&(Y=i);do{!0===e&&f().validPositions[c]?(a=(o=f().validPositions[c]).match,n=o.locator.slice(),s.push(!0===r?o.input:!1===r?a.nativeDef:_(c,a))):(a=(o=b(c,n,c-1)).match,n=o.locator.slice(),(!1===l.jitMasking||c<u||"number"==typeof l.jitMasking&&isFinite(l.jitMasking)&&l.jitMasking>c)&&s.push(!1===r?a.nativeDef:_(c,a))),c++}while((Y===i||c<Y)&&(null!==a.fn||""!==a.def)||t>c);return""===s[s.length-1]&&s.pop(),f().maskLength=c+1,s}function f(){return o}function m(e){var t=f();t.buffer=i,!0!==e&&(t.validPositions={},t.p=0)}function g(e,t,r){var n=-1,a=-1,o=r||f().validPositions;for(var s in e===i&&(e=-1),o){var l=parseInt(s);o[l]&&(t||!0!==o[l].generatedInput)&&(l<=e&&(n=l),l>=e&&(a=l))}return-1!==n&&e-n>1||a<e?n:a}function v(t,r,n,a){function o(e){var t=f().validPositions[e];if(t!==i&&null===t.match.fn){var r=f().validPositions[e-1],n=f().validPositions[e+1];return r!==i&&n!==i}return!1}var s,c=t,u=e.extend(!0,{},f().validPositions),d=!1;for(f().p=t,s=r-1;s>=c;s--)f().validPositions[s]!==i&&(!0!==n&&(!f().validPositions[s].match.optionality&&o(s)||!1===l.canClearPosition(f(),s,g(),a,l))||delete f().validPositions[s]);for(m(!0),s=c+1;s<=g();){for(;f().validPositions[c]!==i;)c++;if(s<c&&(s=c+1),f().validPositions[s]===i&&A(s))s++;else{var p=b(s);!1===d&&u[c]&&u[c].match.def===p.match.def?(f().validPositions[c]=e.extend(!0,{},u[c]),f().validPositions[c].input=p.input,delete f().validPositions[s],s++):k(c,p.match.def)?!1!==M(c,p.input||_(s),!0)&&(delete f().validPositions[s],s++,d=!0):A(s)||(s++,c--),c++}}m(!0)}function y(e,t){for(var r,n=e,a=g(),o=f().validPositions[a]||w(0)[0],s=o.alternation!==i?o.locator[o.alternation].toString().split(","):[],c=0;c<n.length&&(!((r=n[c]).match&&(l.greedy&&!0!==r.match.optionalQuantifier||(!1===r.match.optionality||!1===r.match.newBlockMarker)&&!0!==r.match.optionalQuantifier)&&(o.alternation===i||o.alternation!==r.alternation||r.locator[o.alternation]!==i&&C(r.locator[o.alternation].toString().split(","),s)))||!0===t&&(null!==r.match.fn||/[0-9a-bA-Z]/.test(r.match.def)));c++);return r}function b(e,t,r){return f().validPositions[e]||y(w(e,t?t.slice():t,r))}function x(e){return f().validPositions[e]?f().validPositions[e]:w(e)[0]}function k(e,t){for(var r=!1,i=w(e),n=0;n<i.length;n++)if(i[n].match&&i[n].match.def===t){r=!0;break}return r}function w(t,r,n){function a(r,n,o,c){function d(o,c,g){function v(t,r){var i=0===e.inArray(t,r.matches);return i||e.each(r.matches,(function(e,n){if(!0===n.isQuantifier&&(i=v(t,r.matches[e-1])))return!1})),i}function y(t,r,n){var a,o;return(f().tests[t]||f().validPositions[t])&&e.each(f().tests[t]||[f().validPositions[t]],(function(e,t){var s=n!==i?n:t.alternation,l=t.locator[s]!==i?t.locator[s].toString().indexOf(r):-1;(o===i||l<o)&&-1!==l&&(a=t,o=l)})),a?a.locator.slice((n!==i?n:a.alternation)+1):n!==i?y(t,r):i}function b(e,r){return null===e.match.fn&&null!==r.match.fn&&r.match.fn.test(e.match.def,f(),t,!1,l,!1)}if(u>1e4)throw"Inputmask: There is probably an error in your mask definition or in the code. Create an issue on github with an example of the mask you are using. "+f().mask;if(u===t&&o.matches===i)return p.push({match:o,locator:c.reverse(),cd:m}),!0;if(o.matches!==i){if(o.isGroup&&g!==o){if(o=d(r.matches[e.inArray(o,r.matches)+1],c))return!0}else if(o.isOptional){var x=o;if(o=a(o,n,c,g)){if(!v(s=p[p.length-1].match,x))return!0;h=!0,u=t}}else if(o.isAlternator){var k,w=o,S=[],E=p.slice(),T=c.length,P=n.length>0?n.shift():-1;if(-1===P||"string"==typeof P){var C,M=u,A=n.slice(),z=[];if("string"==typeof P)z=P.split(",");else for(C=0;C<w.matches.length;C++)z.push(C);for(var O=0;O<z.length;O++){if(C=parseInt(z[O]),p=[],n=y(u,C,T)||A.slice(),!0!==(o=d(w.matches[C]||r.matches[C],[C].concat(c),g)||o)&&o!==i&&z[z.length-1]<w.matches.length){var R=e.inArray(o,r.matches)+1;r.matches.length>R&&(o=d(r.matches[R],[R].concat(c.slice(1,c.length)),g))&&(z.push(R.toString()),e.each(p,(function(e,t){t.alternation=c.length-1})))}k=p.slice(),u=M,p=[];for(var D=0;D<k.length;D++){var _=k[D],j=!1;_.alternation=_.alternation||T;for(var L=0;L<S.length;L++){var N=S[L];if(("string"!=typeof P||-1!==e.inArray(_.locator[_.alternation].toString(),z))&&(_.match.def===N.match.def||b(_,N))){j=_.match.nativeDef===N.match.nativeDef,_.alternation==N.alternation&&-1===N.locator[N.alternation].toString().indexOf(_.locator[_.alternation])&&(N.locator[N.alternation]=N.locator[N.alternation]+","+_.locator[_.alternation],N.alternation=_.alternation,null==_.match.fn&&(N.na=N.na||_.locator[_.alternation].toString(),-1===N.na.indexOf(_.locator[_.alternation])&&(N.na=N.na+","+_.locator[_.alternation])));break}}j||S.push(_)}}"string"==typeof P&&(S=e.map(S,(function(t,r){if(isFinite(r)){var n=t.alternation,a=t.locator[n].toString().split(",");t.locator[n]=i,t.alternation=i;for(var o=0;o<a.length;o++)-1!==e.inArray(a[o],z)&&(t.locator[n]!==i?(t.locator[n]+=",",t.locator[n]+=a[o]):t.locator[n]=parseInt(a[o]),t.alternation=n);if(t.locator[n]!==i)return t}}))),p=E.concat(S),u=t,h=p.length>0,n=A.slice()}else o=d(w.matches[P]||r.matches[P],[P].concat(c),g);if(o)return!0}else if(o.isQuantifier&&g!==r.matches[e.inArray(o,r.matches)-1])for(var I=o,F=n.length>0?n.shift():0;F<(isNaN(I.quantifier.max)?F+1:I.quantifier.max)&&u<=t;F++){var B=r.matches[e.inArray(I,r.matches)-1];if(o=d(B,[F].concat(c),B)){if((s=p[p.length-1].match).optionalQuantifier=F>I.quantifier.min-1,v(s,B)){if(F>I.quantifier.min-1){h=!0,u=t;break}return!0}return!0}}else if(o=a(o,n,c,g))return!0}else u++}for(var g=n.length>0?n.shift():0;g<r.matches.length;g++)if(!0!==r.matches[g].isQuantifier){var v=d(r.matches[g],[g].concat(o),c);if(v&&u===t)return v;if(u>t)break}}function o(e){return l.keepStatic&&t>0&&e.length>1+(""===e[e.length-1].match.def?1:0)&&!0!==e[0].match.optionality&&!0!==e[0].match.optionalQuantifier&&null===e[0].match.fn&&!/[0-9a-bA-Z]/.test(e[0].match.def)?[y(e)]:e}var s,c=f().maskToken,u=r?n:0,d=r?r.slice():[0],p=[],h=!1,m=r?r.join(""):"";if(t>-1){if(r===i){for(var g,v=t-1;(g=f().validPositions[v]||f().tests[v])===i&&v>-1;)v--;g!==i&&v>-1&&(d=function(t){var r=[];return e.isArray(t)||(t=[t]),t.length>0&&(t[0].alternation===i?0===(r=y(t.slice()).locator.slice()).length&&(r=t[0].locator.slice()):e.each(t,(function(e,t){if(""!==t.def)if(0===r.length)r=t.locator.slice();else for(var i=0;i<r.length;i++)t.locator[i]&&-1===r[i].toString().indexOf(t.locator[i])&&(r[i]+=","+t.locator[i])}))),r}(g),m=d.join(""),u=v)}if(f().tests[t]&&f().tests[t][0].cd===m)return o(f().tests[t]);for(var b=d.shift();b<c.length&&!(a(c[b],d,[b])&&u===t||u>t);b++);}return(0===p.length||h)&&p.push({match:{fn:null,cardinality:0,optionality:!0,casing:null,def:"",placeholder:""},locator:[],cd:m}),r!==i&&f().tests[t]?o(e.extend(!0,[],p)):(f().tests[t]=e.extend(!0,[],p),o(f().tests[t]))}function S(){return f()._buffer===i&&(f()._buffer=h(!1,1),f().buffer===i&&(f().buffer=f()._buffer.slice())),f()._buffer}function E(e){return f().buffer!==i&&!0!==e||(f().buffer=h(!0,g(),!0)),f().buffer}function T(e,t,r){var n,a;if(!0===e)m(),e=0,t=r.length;else for(n=e;n<t;n++)delete f().validPositions[n];for(a=e,n=e;n<t;n++)if(m(!0),r[n]!==l.skipOptionalPartCharacter){var o=M(a,r[n],!0,!0);!1!==o&&(m(!0),a=o.caret!==i?o.caret:o.pos+1)}}function P(e,t,r){switch(l.casing||t.casing){case"upper":e=e.toUpperCase();break;case"lower":e=e.toLowerCase();break;case"title":var i=f().validPositions[r-1];e=0===r||i&&i.input===String.fromCharCode(n.keyCode.SPACE)?e.toUpperCase():e.toLowerCase()}return e}function C(t,r,n){for(var a,o=l.greedy?r:r.slice(0,1),s=!1,c=n!==i?n.split(","):[],u=0;u<c.length;u++)-1!==(a=t.indexOf(c[u]))&&t.splice(a,1);for(var d=0;d<t.length;d++)if(-1!==e.inArray(t[d],o)){s=!0;break}return s}function M(t,r,a,o,s){function c(e){var t=Q?e.begin-e.end>1||e.begin-e.end==1:e.end-e.begin>1||e.end-e.begin==1;return t&&0===e.begin&&e.end===f().maskLength?"full":t}function u(r,n,a){var s=!1;return e.each(w(r),(function(u,d){for(var h=d.match,y=n?1:0,b="",x=h.cardinality;x>y;x--)b+=R(r-(x-1));if(n&&(b+=n),E(!0),!1!==(s=null!=h.fn?h.fn.test(b,f(),r,a,l,c(t)):(n===h.def||n===l.skipOptionalPartCharacter)&&""!==h.def&&{c:_(r,h,!0)||h.def,pos:r})){var k=s.c!==i?s.c:n;k=k===l.skipOptionalPartCharacter&&null===h.fn?_(r,h,!0)||h.def:k;var w=r,S=E();if(s.remove!==i&&(e.isArray(s.remove)||(s.remove=[s.remove]),e.each(s.remove.sort((function(e,t){return t-e})),(function(e,t){v(t,t+1,!0)}))),s.insert!==i&&(e.isArray(s.insert)||(s.insert=[s.insert]),e.each(s.insert.sort((function(e,t){return e-t})),(function(e,t){M(t.pos,t.c,!0,o)}))),s.refreshFromBuffer){var C=s.refreshFromBuffer;if(T(!0===C?C:C.start,C.end,S),s.pos===i&&s.c===i)return s.pos=g(),!1;if((w=s.pos!==i?s.pos:r)!==r)return s=e.extend(s,M(w,k,!0,o)),!1}else if(!0!==s&&s.pos!==i&&s.pos!==r&&(w=s.pos,T(r,w,E().slice()),w!==r))return s=e.extend(s,M(w,k,!0)),!1;return(!0===s||s.pos!==i||s.c!==i)&&(u>0&&m(!0),p(w,e.extend({},d,{input:P(k,h,w)}),o,c(t))||(s=!1),!1)}})),s}function d(t,r){var n=f().validPositions[r];if(n)for(var a=n.locator,o=a.length,s=t;s<r;s++)if(f().validPositions[s]===i&&!A(s,!0)){var l=w(s).slice(),c=y(l,!0),d=-1;""===l[l.length-1].match.def&&l.pop(),e.each(l,(function(e,t){for(var r=0;r<o;r++){if(t.locator[r]===i||!C(t.locator[r].toString().split(","),a[r].toString().split(","),t.na)){var n=a[r],s=c.locator[r],l=t.locator[r];n-s>Math.abs(n-l)&&(c=t);break}d<r&&(d=r,c=t)}})),(c=e.extend({},c,{input:_(s,c.match,!0)||c.match.def})).generatedInput=!0,p(s,c,!0),f().validPositions[r]=i,u(r,n.input,!0)}}function p(t,r,n,a){if(a||l.insertMode&&f().validPositions[t]!==i&&n===i){var o,s=e.extend(!0,{},f().validPositions),c=g(i,!0);for(o=t;o<=c;o++)delete f().validPositions[o];f().validPositions[t]=e.extend(!0,{},r);var u,d=!0,p=f().validPositions,v=!1,y=f().maskLength;for(o=u=t;o<=c;o++){var b=s[o];if(b!==i)for(var x=u;x<f().maskLength&&(null===b.match.fn&&p[o]&&(!0===p[o].match.optionalQuantifier||!0===p[o].match.optionality)||null!=b.match.fn);){if(x++,!1===v&&s[x]&&s[x].match.def===b.match.def)f().validPositions[x]=e.extend(!0,{},s[x]),f().validPositions[x].input=b.input,h(x),u=x,d=!0;else if(k(x,b.match.def)){var w=M(x,b.input,!0,!0);d=!1!==w,u=w.caret||w.insert?g():x,v=!0}else if(!(d=!0===b.generatedInput)&&x>=f().maskLength-1)break;if(f().maskLength<y&&(f().maskLength=y),d)break}if(!d)break}if(!d)return f().validPositions=e.extend(!0,{},s),m(!0),!1}else f().validPositions[t]=e.extend(!0,{},r);return m(!0),!0}function h(t){for(var r=t-1;r>-1&&!f().validPositions[r];r--);var n,a;for(r++;r<t;r++)f().validPositions[r]===i&&(!1===l.jitMasking||l.jitMasking>r)&&(""===(a=w(r,b(r-1).locator,r-1).slice())[a.length-1].match.def&&a.pop(),(n=y(a))&&(n.match.def===l.radixPointDefinitionSymbol||!A(r,!0)||e.inArray(l.radixPoint,E())<r&&n.match.fn&&n.match.fn.test(_(r),f(),r,!1,l))&&!1!==(S=u(r,_(r,n.match,!0)||(null==n.match.fn?n.match.def:""!==_(r)?_(r):E()[r]),!0))&&(f().validPositions[S.pos||r].generatedInput=!0))}a=!0===a;var x=t;t.begin!==i&&(x=Q&&!c(t)?t.end:t.begin);var S=!0,O=e.extend(!0,{},f().validPositions);if(e.isFunction(l.preValidation)&&!a&&!0!==o&&(S=l.preValidation(E(),x,r,c(t),l)),!0===S){if(h(x),c(t)&&(H(i,n.keyCode.DELETE,t),x=f().p),x<f().maskLength&&(S=u(x,r,a),(!a||!0===o)&&!1===S)){var D=f().validPositions[x];if(!D||null!==D.match.fn||D.match.def!==r&&r!==l.skipOptionalPartCharacter){if((l.insertMode||f().validPositions[z(x)]===i)&&!A(x,!0))for(var j=x+1,L=z(x);j<=L;j++)if(!1!==(S=u(j,r,a))){d(x,S.pos!==i?S.pos:j),x=j;break}}else S={caret:z(x)}}!1===S&&l.keepStatic&&!a&&!0!==s&&(S=function(t,r,n){var a,s,c,u,d,p,h,v,y=e.extend(!0,{},f().validPositions),b=!1,x=g();for(u=f().validPositions[x];x>=0;x--)if((c=f().validPositions[x])&&c.alternation!==i){if(a=x,s=f().validPositions[a].alternation,u.locator[c.alternation]!==c.locator[c.alternation])break;u=c}if(s!==i){v=parseInt(a);var k=u.locator[u.alternation||s]!==i?u.locator[u.alternation||s]:h[0];k.length>0&&(k=k.split(",")[0]);var S=f().validPositions[v],E=f().validPositions[v-1];e.each(w(v,E?E.locator:i,v-1),(function(a,c){h=c.locator[s]?c.locator[s].toString().split(","):[];for(var u=0;u<h.length;u++){var x=[],w=0,E=0,T=!1;if(k<h[u]&&(c.na===i||-1===e.inArray(h[u],c.na.split(",")))){f().validPositions[v]=e.extend(!0,{},c);var P=f().validPositions[v].locator;for(f().validPositions[v].locator[s]=parseInt(h[u]),null==c.match.fn?(S.input!==c.match.def&&(T=!0,!0!==S.generatedInput&&x.push(S.input)),E++,f().validPositions[v].generatedInput=!/[0-9a-bA-Z]/.test(c.match.def),f().validPositions[v].input=c.match.def):f().validPositions[v].input=S.input,d=v+1;d<g(i,!0)+1;d++)(p=f().validPositions[d])&&!0!==p.generatedInput&&/[0-9a-bA-Z]/.test(p.input)?x.push(p.input):d<t&&w++,delete f().validPositions[d];for(T&&x[0]===c.match.def&&x.shift(),m(!0),b=!0;x.length>0;){var C=x.shift();if(C!==l.skipOptionalPartCharacter&&!(b=M(g(i,!0)+1,C,!1,o,!0)))break}if(b){f().validPositions[v].locator=P;var A=g(t)+1;for(d=v+1;d<g()+1;d++)((p=f().validPositions[d])===i||null==p.match.fn)&&d<t+(E-w)&&E++;b=M((t+=E-w)>A?A:t,r,n,o,!0)}if(b)return!1;m(),f().validPositions=e.extend(!0,{},y)}}}))}return b}(x,r,a)),!0===S&&(S={pos:x})}if(e.isFunction(l.postValidation)&&!1!==S&&!a&&!0!==o){var N=l.postValidation(E(!0),S,l);if(N.refreshFromBuffer&&N.buffer){var I=N.refreshFromBuffer;T(!0===I?I:I.start,I.end,N.buffer)}S=!0===N?S:N}return S.pos===i&&(S.pos=x),!1===S&&(m(!0),f().validPositions=e.extend(!0,{},O)),S}function A(e,t){var r=b(e).match;if(""===r.def&&(r=x(e).match),null!=r.fn)return r.fn;if(!0!==t&&e>-1){var i=w(e);return i.length>1+(""===i[i.length-1].match.def?1:0)}return!1}function z(e,t){var r=f().maskLength;if(e>=r)return r;for(var i=e;++i<r&&(!0===t&&(!0!==x(i).match.newBlockMarker||!A(i))||!0!==t&&!A(i)););return i}function O(e,t){var r,i=e;if(i<=0)return 0;for(;--i>0&&(!0===t&&!0!==x(i).match.newBlockMarker||!0!==t&&!A(i)&&((r=w(i)).length<2||2===r.length&&""===r[1].match.def)););return i}function R(e){return f().validPositions[e]===i?_(e):f().validPositions[e].input}function D(t,r,n,a,o){if(a&&e.isFunction(l.onBeforeWrite)){var s=l.onBeforeWrite(a,r,n,l);if(s){if(s.refreshFromBuffer){var c=s.refreshFromBuffer;T(!0===c?c:c.start,c.end,s.buffer||r),r=E(!0)}n!==i&&(n=s.caret!==i?s.caret:n)}}t!==i&&(t.inputmask._valueSet(r.join("")),n===i||a!==i&&"blur"===a.type?X(t,r,n):p&&"input"===a.type?setTimeout((function(){N(t,n)}),0):N(t,n),!0===o&&($=!0,e(t).trigger("input")))}function _(t,r,n){if((r=r||x(t).match).placeholder!==i||!0===n)return e.isFunction(r.placeholder)?r.placeholder(l):r.placeholder;if(null===r.fn){if(t>-1&&f().validPositions[t]===i){var a,o=w(t),s=[];if(o.length>1+(""===o[o.length-1].match.def?1:0))for(var c=0;c<o.length;c++)if(!0!==o[c].match.optionality&&!0!==o[c].match.optionalQuantifier&&(null===o[c].match.fn||a===i||!1!==o[c].match.fn.test(a.match.def,f(),t,!0,l))&&(s.push(o[c]),null===o[c].match.fn&&(a=o[c]),s.length>1&&/[0-9a-bA-Z]/.test(s[0].match.def)))return l.placeholder.charAt(t%l.placeholder.length)}return r.def}return l.placeholder.charAt(t%l.placeholder.length)}function j(t,a,o,s,c){function u(e,t){return-1!==S().slice(e,z(e)).join("").indexOf(t)&&!A(e)&&x(e).match.nativeDef===t.charAt(t.length-1)}var d=s.slice(),p="",h=0,v=i;if(m(),f().p=z(-1),!o)if(!0!==l.autoUnmask){var y=S().slice(0,z(-1)).join(""),k=d.join("").match(new RegExp("^"+n.escapeRegex(y),"g"));k&&k.length>0&&(d.splice(0,k.length*y.length),h=z(h))}else h=z(h);if(e.each(d,(function(r,n){if(n!==i){var a=new e.Event("_checkval");a.which=n.charCodeAt(0),p+=n;var s=g(i,!0),c=f().validPositions[s],d=b(s+1,c?c.locator.slice():i,s);if(!u(h,p)||o||l.autoUnmask){var y=o?r:null==d.match.fn&&d.match.optionality&&s+1<f().p?s+1:f().p;v=re.keypressEvent.call(t,a,!0,!1,o,y),h=y+1,p=""}else v=re.keypressEvent.call(t,a,!0,!1,!0,s+1);if(!o&&e.isFunction(l.onBeforeWrite)){var x=v.forwardPosition;if((v=l.onBeforeWrite(a,E(),v.forwardPosition,l)).forwardPosition=x,v&&v.refreshFromBuffer){var k=v.refreshFromBuffer;T(!0===k?k:k.start,k.end,v.buffer),m(!0),v.caret&&(f().p=v.caret,v.forwardPosition=v.caret)}}}})),a){var w=i;r.activeElement===t&&v&&(w=l.numericInput?O(v.forwardPosition):v.forwardPosition),D(t,E(),w,c||new e.Event("checkval"))}}function L(t){if(t){if(t.inputmask===i)return t.value;t.inputmask&&t.inputmask.refreshValue&&re.setValueEvent.call(t)}var r=[],n=f().validPositions;for(var a in n)n[a].match&&null!=n[a].match.fn&&r.push(n[a].input);var o=0===r.length?"":(Q?r.reverse():r).join("");if(e.isFunction(l.onUnMask)){var s=(Q?E().slice().reverse():E()).join("");o=l.onUnMask(s,o,l)}return o}function N(e,n,a,o){function s(e){return!0===o||!Q||"number"!=typeof e||l.greedy&&""===l.placeholder||(e=E().join("").length-e),e}var u;if("number"!=typeof n)return e.setSelectionRange?(n=e.selectionStart,a=e.selectionEnd):t.getSelection?(u=t.getSelection().getRangeAt(0)).commonAncestorContainer.parentNode!==e&&u.commonAncestorContainer!==e||(n=u.startOffset,a=u.endOffset):r.selection&&r.selection.createRange&&(a=(n=0-(u=r.selection.createRange()).duplicate().moveStart("character",-e.inputmask._valueGet().length))+u.text.length),{begin:s(n),end:s(a)};n=s(n),a="number"==typeof(a=s(a))?a:n;var d=parseInt(((e.ownerDocument.defaultView||t).getComputedStyle?(e.ownerDocument.defaultView||t).getComputedStyle(e,null):e.currentStyle).fontSize)*a;if(e.scrollLeft=d>e.scrollWidth?d:0,c||!1!==l.insertMode||n!==a||a++,e.setSelectionRange)e.selectionStart=n,e.selectionEnd=a;else if(t.getSelection){if(u=r.createRange(),e.firstChild===i||null===e.firstChild){var p=r.createTextNode("");e.appendChild(p)}u.setStart(e.firstChild,n<e.inputmask._valueGet().length?n:e.inputmask._valueGet().length),u.setEnd(e.firstChild,a<e.inputmask._valueGet().length?a:e.inputmask._valueGet().length),u.collapse(!0);var h=t.getSelection();h.removeAllRanges(),h.addRange(u)}else e.createTextRange&&((u=e.createTextRange()).collapse(!0),u.moveEnd("character",a),u.moveStart("character",n),u.select());X(e,i,{begin:n,end:a})}function I(t){var r,n,a=E(),o=a.length,s=g(),l={},c=f().validPositions[s],u=c!==i?c.locator.slice():i;for(r=s+1;r<a.length;r++)u=(n=b(r,u,r-1)).locator.slice(),l[r]=e.extend(!0,{},n);var d=c&&c.alternation!==i?c.locator[c.alternation]:i;for(r=o-1;r>s&&((n=l[r]).match.optionality||n.match.optionalQuantifier||d&&(d!==l[r].locator[c.alternation]&&null!=n.match.fn||null===n.match.fn&&n.locator[c.alternation]&&C(n.locator[c.alternation].toString().split(","),d.toString().split(","))&&""!==w(r)[0].def))&&a[r]===_(r,n.match);r--)o--;return t?{l:o,def:l[o]?l[o].match:i}:o}function F(e){for(var t,r=I(),i=e.length;r<i&&!A(r+1)&&(t=x(r+1))&&!0!==t.match.optionality&&!0!==t.match.optionalQuantifier;)r++;for(;(t=x(r-1))&&t.match.optionality&&t.input===l.skipOptionalPartCharacter;)r--;return e.splice(r),e}function B(t){if(e.isFunction(l.isComplete))return l.isComplete(t,l);if("*"===l.repeat)return i;var r=!1,n=I(!0),a=O(n.l);if(n.def===i||n.def.newBlockMarker||n.def.optionality||n.def.optionalQuantifier){r=!0;for(var o=0;o<=a;o++){var s=b(o).match;if(null!==s.fn&&f().validPositions[o]===i&&!0!==s.optionality&&!0!==s.optionalQuantifier||null===s.fn&&t[o]!==_(o,s)){r=!1;break}}}return r}function H(t,r,a,o){if((l.numericInput||Q)&&(r===n.keyCode.BACKSPACE?r=n.keyCode.DELETE:r===n.keyCode.DELETE&&(r=n.keyCode.BACKSPACE),Q)){var s=a.end;a.end=a.begin,a.begin=s}r===n.keyCode.BACKSPACE&&(a.end-a.begin<1||!1===l.insertMode)?(a.begin=O(a.begin),f().validPositions[a.begin]===i||f().validPositions[a.begin].input!==l.groupSeparator&&f().validPositions[a.begin].input!==l.radixPoint||a.begin--):r===n.keyCode.DELETE&&a.begin===a.end&&(a.end=A(a.end,!0)?a.end+1:z(a.end)+1,f().validPositions[a.begin]===i||f().validPositions[a.begin].input!==l.groupSeparator&&f().validPositions[a.begin].input!==l.radixPoint||a.end++),v(a.begin,a.end,!1,o),!0!==o&&function(){if(l.keepStatic){for(var r=[],n=g(-1,!0),a=e.extend(!0,{},f().validPositions),o=f().validPositions[n];n>=0;n--){var s=f().validPositions[n];if(s){if(!0!==s.generatedInput&&/[0-9a-bA-Z]/.test(s.input)&&r.push(s.input),delete f().validPositions[n],s.alternation!==i&&s.locator[s.alternation]!==o.locator[s.alternation])break;o=s}}if(n>-1)for(f().p=z(g(-1,!0));r.length>0;){var c=new e.Event("keypress");c.which=r.pop().charCodeAt(0),re.keypressEvent.call(t,c,!0,!1,!1,f().p)}else f().validPositions=e.extend(!0,{},a)}}();var c=g(a.begin,!0);c<a.begin?f().p=z(c):!0!==o&&(f().p=a.begin)}function G(i){function n(){q.style.position="absolute",q.style.top=a.top+"px",q.style.left=a.left+"px",q.style.width=parseInt(i.offsetWidth)-parseInt(o.paddingLeft)-parseInt(o.paddingRight)-parseInt(o.borderLeftWidth)-parseInt(o.borderRightWidth)+"px",q.style.height=parseInt(i.offsetHeight)-parseInt(o.paddingTop)-parseInt(o.paddingBottom)-parseInt(o.borderTopWidth)-parseInt(o.borderBottomWidth)+"px",q.style.lineHeight=q.style.height,q.style.zIndex=isNaN(o.zIndex)?-1:o.zIndex-1,q.style.webkitAppearance="textfield",q.style.mozAppearance="textfield",q.style.Appearance="textfield"}var a=e(i).position(),o=(i.ownerDocument.defaultView||t).getComputedStyle(i,null);for(var s in i.parentNode,q=r.createElement("div"),r.body.appendChild(q),o)isNaN(s)&&"cssText"!==s&&-1==s.indexOf("webkit")&&(q.style[s]=o[s]);i.style.backgroundColor="transparent",i.style.color="transparent",i.style.webkitAppearance="caret",i.style.mozAppearance="caret",i.style.Appearance="caret",n(),e(t).on("resize",(function(r){a=e(i).position(),o=(i.ownerDocument.defaultView||t).getComputedStyle(i,null),n()})),e(i).on("click",(function(e){return N(i,function(e){var t,n=r.createElement("span");for(var a in o)isNaN(a)&&-1!==a.indexOf("font")&&(n.style[a]=o[a]);n.style.textTransform=o.textTransform,n.style.letterSpacing=o.letterSpacing,n.style.position="absolute",n.style.height="auto",n.style.width="auto",n.style.visibility="hidden",n.style.whiteSpace="nowrap",r.body.appendChild(n);var s,l=i.inputmask._valueGet(),c=0;for(t=0,s=l.length;t<=s;t++){if(n.innerHTML+=l.charAt(t)||"_",n.offsetWidth>=e){var u=e-c,d=n.offsetWidth-e;n.innerHTML=l.charAt(t),t=(u-=n.offsetWidth/3)<d?t-1:t;break}c=n.offsetWidth}return r.body.removeChild(n),t}(e.clientX)),re.clickEvent.call(this,[e])})),e(i).on("keydown",(function(e){e.shiftKey||!1===l.insertMode||setTimeout((function(){X(i)}),0)}))}function X(e,t,n){function a(){s||null!==u.fn&&d.input!==i?s&&null!==u.fn&&d.input!==i&&(s=!1,o+="</span>"):(s=!0,o+="<span class='im-static''>")}if(q!==i){t=t||E(),n===i?n=N(e):n.begin===i&&(n={begin:n,end:n});var o="",s=!1;if(""!=t){var c,u,d,p=0,h=g();do{p===n.begin&&r.activeElement===e&&(o+="<span class='im-caret' style='border-right-width: 1px;border-right-style: solid;'></span>"),f().validPositions[p]?(d=f().validPositions[p],u=d.match,c=d.locator.slice(),a(),o+=d.input):(d=b(p,c,p-1),u=d.match,c=d.locator.slice(),(!1===l.jitMasking||p<h||"number"==typeof l.jitMasking&&isFinite(l.jitMasking)&&l.jitMasking>p)&&(a(),o+=_(p,u))),p++}while((Y===i||p<Y)&&(null!==u.fn||""!==u.def)||h>p)}q.innerHTML=o}}o=o||this.maskset,l=l||this.opts;var U,V,Y,q,K,W=this.el,Q=this.isRTL,Z=!1,$=!1,J=!1,ee=!1,te={on:function(t,r,a){var o=function(t){if(this.inputmask===i&&"FORM"!==this.nodeName){var r=e.data(this,"_inputmask_opts");r?new n(r).mask(this):te.off(this)}else{if("setvalue"===t.type||"FORM"===this.nodeName||!(this.disabled||this.readOnly&&!("keydown"===t.type&&t.ctrlKey&&67===t.keyCode||!1===l.tabThrough&&t.keyCode===n.keyCode.TAB))){switch(t.type){case"input":if(!0===$)return $=!1,t.preventDefault();break;case"keydown":Z=!1,$=!1;break;case"keypress":if(!0===Z)return t.preventDefault();Z=!0;break;case"click":if(u||d){var o=this,s=arguments;return setTimeout((function(){a.apply(o,s)}),0),!1}}var c=a.apply(this,arguments);return!1===c&&(t.preventDefault(),t.stopPropagation()),c}t.preventDefault()}};t.inputmask.events[r]=t.inputmask.events[r]||[],t.inputmask.events[r].push(o),-1!==e.inArray(r,["submit","reset"])?null!=t.form&&e(t.form).on(r,o):e(t).on(r,o)},off:function(t,r){var i;t.inputmask&&t.inputmask.events&&(r?(i=[])[r]=t.inputmask.events[r]:i=t.inputmask.events,e.each(i,(function(r,i){for(;i.length>0;){var n=i.pop();-1!==e.inArray(r,["submit","reset"])?null!=t.form&&e(t.form).off(r,n):e(t).off(r,n)}delete t.inputmask.events[r]})))}},re={keydownEvent:function(t){var i=this,a=e(i),o=t.keyCode,s=N(i);if(o===n.keyCode.BACKSPACE||o===n.keyCode.DELETE||d&&o===n.keyCode.BACKSPACE_SAFARI||t.ctrlKey&&o===n.keyCode.X&&!function(e){var t=r.createElement("input"),i="on"+e,n=i in t;return n||(t.setAttribute(i,"return;"),n="function"==typeof t[i]),t=null,n}("cut"))t.preventDefault(),H(i,o,s),D(i,E(!0),f().p,t,i.inputmask._valueGet()!==E().join("")),i.inputmask._valueGet()===S().join("")?a.trigger("cleared"):!0===B(E())&&a.trigger("complete");else if(o===n.keyCode.END||o===n.keyCode.PAGE_DOWN){t.preventDefault();var c=z(g());l.insertMode||c!==f().maskLength||t.shiftKey||c--,N(i,t.shiftKey?s.begin:c,c,!0)}else o===n.keyCode.HOME&&!t.shiftKey||o===n.keyCode.PAGE_UP?(t.preventDefault(),N(i,0,t.shiftKey?s.begin:0,!0)):(l.undoOnEscape&&o===n.keyCode.ESCAPE||90===o&&t.ctrlKey)&&!0!==t.altKey?(j(i,!0,!1,U.split("")),a.trigger("click")):o!==n.keyCode.INSERT||t.shiftKey||t.ctrlKey?!0===l.tabThrough&&o===n.keyCode.TAB?(!0===t.shiftKey?(null===x(s.begin).match.fn&&(s.begin=z(s.begin)),s.end=O(s.begin,!0),s.begin=O(s.end,!0)):(s.begin=z(s.begin,!0),s.end=z(s.begin,!0),s.end<f().maskLength&&s.end--),s.begin<f().maskLength&&(t.preventDefault(),N(i,s.begin,s.end))):t.shiftKey||!1===l.insertMode&&(o===n.keyCode.RIGHT?setTimeout((function(){var e=N(i);N(i,e.begin)}),0):o===n.keyCode.LEFT&&setTimeout((function(){var e=N(i);N(i,Q?e.begin+1:e.begin-1)}),0)):(l.insertMode=!l.insertMode,N(i,l.insertMode||s.begin!==f().maskLength?s.begin:s.begin-1));l.onKeyDown.call(this,t,E(),N(i).begin,l),J=-1!==e.inArray(o,l.ignorables)},keypressEvent:function(t,r,a,o,s){var c=this,u=e(c),d=t.which||t.charCode||t.keyCode;if(!(!0===r||t.ctrlKey&&t.altKey)&&(t.ctrlKey||t.metaKey||J))return d===n.keyCode.ENTER&&U!==E().join("")&&(U=E().join(""),setTimeout((function(){u.trigger("change")}),0)),!0;if(d){46===d&&!1===t.shiftKey&&""!==l.radixPoint&&(d=l.radixPoint.charCodeAt(0));var p,h=r?{begin:s,end:s}:N(c),g=String.fromCharCode(d);f().writeOutBuffer=!0;var v=M(h,g,o);if(!1!==v&&(m(!0),p=v.caret!==i?v.caret:r?v.pos+1:z(v.pos),f().p=p),!1!==a){var y=this;if(setTimeout((function(){l.onKeyValidation.call(y,d,v,l)}),0),f().writeOutBuffer&&!1!==v){var b=E();D(c,b,l.numericInput&&v.caret===i?O(p):p,t,!0!==r),!0!==r&&setTimeout((function(){!0===B(b)&&u.trigger("complete")}),0)}}if(t.preventDefault(),r)return v.forwardPosition=p,v}},pasteEvent:function(r){var i,n=this,a=r.originalEvent||r,o=e(n),s=n.inputmask._valueGet(!0),c=N(n);Q&&(i=c.end,c.end=c.begin,c.begin=i);var u=s.substr(0,c.begin),d=s.substr(c.end,s.length);if(u===(Q?S().reverse():S()).slice(0,c.begin).join("")&&(u=""),d===(Q?S().reverse():S()).slice(c.end).join("")&&(d=""),Q&&(i=u,u=d,d=i),t.clipboardData&&t.clipboardData.getData)s=u+t.clipboardData.getData("Text")+d;else{if(!a.clipboardData||!a.clipboardData.getData)return!0;s=u+a.clipboardData.getData("text/plain")+d}var p=s;if(e.isFunction(l.onBeforePaste)){if(!1===(p=l.onBeforePaste(s,l)))return r.preventDefault();p||(p=s)}return j(n,!1,!1,Q?p.split("").reverse():p.toString().split("")),D(n,E(),z(g()),r,U!==E().join("")),!0===B(E())&&o.trigger("complete"),r.preventDefault()},inputFallBackEvent:function(t){var r=this,i=r.inputmask._valueGet();if(E().join("")!==i){var a=N(r);if("."===i.charAt(a.begin-1)&&""!==l.radixPoint&&((i=i.split(""))[a.begin-1]=l.radixPoint.charAt(0),i=i.join("")),i.charAt(a.begin-1)===l.radixPoint&&i.length>E().length)return(o=new e.Event("keypress")).which=l.radixPoint.charCodeAt(0),re.keypressEvent.call(r,o,!0,!0,!1,a.begin),!1;if(i=i.replace(new RegExp("("+n.escapeRegex(S().join(""))+")*"),""),u){var o,s=i.replace(E().join(""),"");if(1===s.length)return(o=new e.Event("keypress")).which=s.charCodeAt(0),re.keypressEvent.call(r,o,!0,!0,!1,f().validPositions[a.begin-1]?a.begin:a.begin-1),!1}if(a.begin>i.length&&(N(r,i.length),a=N(r)),E().length-i.length!=1||i.charAt(a.begin)===E()[a.begin]||i.charAt(a.begin+1)===E()[a.begin]||A(a.begin)){var c=[],d=h(!0,1).join("");for(c.push(i.substr(0,a.begin)),c.push(i.substr(a.begin));null===i.match(n.escapeRegex(d)+"$");)d=d.slice(1);i=i.replace(d,""),e.isFunction(l.onBeforeMask)&&(i=l.onBeforeMask(i,l)||i),j(r,!0,!1,i.split(""),t);var m=N(r).begin,g=r.inputmask._valueGet(),v=g.indexOf(c[0]);if(0===v&&m!==c[0].length)N(r,c[0].length),p&&setTimeout((function(){N(r,c[0].length)}),0);else{for(;null===g.match(n.escapeRegex(c[1])+"$");)c[1]=c[1].substr(1);var y=g.indexOf(c[1]);-1!==y&&""!==c[1]&&m>y&&y>v&&(N(r,y),p&&setTimeout((function(){N(r,y)}),0))}!0===B(E())&&e(r).trigger("complete")}else t.keyCode=n.keyCode.BACKSPACE,re.keydownEvent.call(r,t);t.preventDefault()}},setValueEvent:function(t){this.inputmask.refreshValue=!1;var r=this,i=r.inputmask._valueGet(!0);e.isFunction(l.onBeforeMask)&&(i=l.onBeforeMask(i,l)||i),i=i.split(""),j(r,!0,!1,Q?i.reverse():i),U=E().join(""),(l.clearMaskOnLostFocus||l.clearIncomplete)&&r.inputmask._valueGet()===S().join("")&&r.inputmask._valueSet("")},focusEvent:function(e){var t=this,r=t.inputmask._valueGet();l.showMaskOnFocus&&(!l.showMaskOnHover||l.showMaskOnHover&&""===r)&&(t.inputmask._valueGet()!==E().join("")?D(t,E(),z(g())):!1===ee&&N(t,z(g()))),!0===l.positionCaretOnTab&&!1===ee&&re.clickEvent.apply(t,[e,!0]),U=E().join("")},mouseleaveEvent:function(e){var t=this;if(ee=!1,l.clearMaskOnLostFocus&&r.activeElement!==t){var i=E().slice(),n=t.inputmask._valueGet();n!==t.getAttribute("placeholder")&&""!==n&&(-1===g()&&n===S().join("")?i=[]:F(i),D(t,i))}},clickEvent:function(t,n){function a(t){if(""!==l.radixPoint){var r=f().validPositions;if(r[t]===i||r[t].input===_(t)){if(t<z(-1))return!0;var n=e.inArray(l.radixPoint,E());if(-1!==n){for(var a in r)if(n<a&&r[a].input!==_(a))return!1;return!0}}}return!1}var o=this;setTimeout((function(){if(r.activeElement===o){var e=N(o);if(n&&(Q?e.end=e.begin:e.begin=e.end),e.begin===e.end)switch(l.positionCaretOnClick){case"none":break;case"radixFocus":if(a(e.begin)){var t=E().join("").indexOf(l.radixPoint);N(o,l.numericInput?z(t):t);break}default:var i=e.begin,s=z(g(i,!0));if(i<s)N(o,A(i)||A(i-1)?i:z(i));else{var c=_(s);(""!==c&&E()[s]!==c&&!0!==x(s).match.optionalQuantifier||!A(s)&&x(s).match.def===c)&&(s=z(s)),N(o,s)}}}}),0)},dblclickEvent:function(e){var t=this;setTimeout((function(){N(t,0,z(g()))}),0)},cutEvent:function(i){var a=this,o=e(a),s=N(a),l=i.originalEvent||i,c=t.clipboardData||l.clipboardData,u=Q?E().slice(s.end,s.begin):E().slice(s.begin,s.end);c.setData("text",Q?u.reverse().join(""):u.join("")),r.execCommand&&r.execCommand("copy"),H(a,n.keyCode.DELETE,s),D(a,E(),f().p,i,U!==E().join("")),a.inputmask._valueGet()===S().join("")&&o.trigger("cleared")},blurEvent:function(t){var r=e(this),n=this;if(n.inputmask){var a=n.inputmask._valueGet(),o=E().slice();U!==o.join("")&&setTimeout((function(){r.trigger("change"),U=o.join("")}),0),""!==a&&(l.clearMaskOnLostFocus&&(-1===g()&&a===S().join("")?o=[]:F(o)),!1===B(o)&&(setTimeout((function(){r.trigger("incomplete")}),0),l.clearIncomplete&&(m(),o=l.clearMaskOnLostFocus?[]:S().slice())),D(n,o,i,t))}},mouseenterEvent:function(e){var t=this;ee=!0,r.activeElement!==t&&l.showMaskOnHover&&t.inputmask._valueGet()!==E().join("")&&D(t,E())},submitEvent:function(e){U!==E().join("")&&V.trigger("change"),l.clearMaskOnLostFocus&&-1===g()&&W.inputmask._valueGet&&W.inputmask._valueGet()===S().join("")&&W.inputmask._valueSet(""),l.removeMaskOnSubmit&&(W.inputmask._valueSet(W.inputmask.unmaskedvalue(),!0),setTimeout((function(){D(W,E())}),0))},resetEvent:function(e){W.inputmask.refreshValue=!0,setTimeout((function(){V.trigger("setvalue")}),0)}};if(a!==i)switch(a.action){case"isComplete":return W=a.el,B(E());case"unmaskedvalue":return W!==i&&a.value===i||(K=a.value,K=(e.isFunction(l.onBeforeMask)&&l.onBeforeMask(K,l)||K).split(""),j(i,!1,!1,Q?K.reverse():K),e.isFunction(l.onBeforeWrite)&&l.onBeforeWrite(i,E(),0,l)),L(W);case"mask":!function(t){te.off(t);var n=function(t,n){var a=t.getAttribute("type"),o="INPUT"===t.tagName&&-1!==e.inArray(a,n.supportsInputType)||t.isContentEditable||"TEXTAREA"===t.tagName;if(!o)if("INPUT"===t.tagName){var s=r.createElement("input");s.setAttribute("type",a),o="text"===s.type,s=null}else o="partial";return!1!==o&&function(t){function a(){return this.inputmask?this.inputmask.opts.autoUnmask?this.inputmask.unmaskedvalue():-1!==g()||!0!==n.nullable?r.activeElement===this&&n.clearMaskOnLostFocus?(Q?F(E().slice()).reverse():F(E().slice())).join(""):s.call(this):"":s.call(this)}function o(t){l.call(this,t),this.inputmask&&e(this).trigger("setvalue")}var s,l;if(!t.inputmask.__valueGet){if(!0!==n.noValuePatching){if(Object.getOwnPropertyDescriptor){"function"!=typeof Object.getPrototypeOf&&(Object.getPrototypeOf="object"==typeof"test".__proto__?function(e){return e.__proto__}:function(e){return e.constructor.prototype});var c=Object.getPrototypeOf?Object.getOwnPropertyDescriptor(Object.getPrototypeOf(t),"value"):i;c&&c.get&&c.set?(s=c.get,l=c.set,Object.defineProperty(t,"value",{get:a,set:o,configurable:!0})):"INPUT"!==t.tagName&&(s=function(){return this.textContent},l=function(e){this.textContent=e},Object.defineProperty(t,"value",{get:a,set:o,configurable:!0}))}else r.__lookupGetter__&&t.__lookupGetter__("value")&&(s=t.__lookupGetter__("value"),l=t.__lookupSetter__("value"),t.__defineGetter__("value",a),t.__defineSetter__("value",o));t.inputmask.__valueGet=s,t.inputmask.__valueSet=l}t.inputmask._valueGet=function(e){return Q&&!0!==e?s.call(this.el).split("").reverse().join(""):s.call(this.el)},t.inputmask._valueSet=function(e,t){l.call(this.el,null===e||e===i?"":!0!==t&&Q?e.split("").reverse().join(""):e)},s===i&&(s=function(){return this.value},l=function(e){this.value=e},function(t){if(e.valHooks&&(e.valHooks[t]===i||!0!==e.valHooks[t].inputmaskpatch)){var r=e.valHooks[t]&&e.valHooks[t].get?e.valHooks[t].get:function(e){return e.value},a=e.valHooks[t]&&e.valHooks[t].set?e.valHooks[t].set:function(e,t){return e.value=t,e};e.valHooks[t]={get:function(e){if(e.inputmask){if(e.inputmask.opts.autoUnmask)return e.inputmask.unmaskedvalue();var t=r(e);return-1!==g(i,i,e.inputmask.maskset.validPositions)||!0!==n.nullable?t:""}return r(e)},set:function(t,r){var i,n=e(t);return i=a(t,r),t.inputmask&&n.trigger("setvalue"),i},inputmaskpatch:!0}}}(t.type),function(t){te.on(t,"mouseenter",(function(t){var r=e(this);this.inputmask._valueGet()!==E().join("")&&r.trigger("setvalue")}))}(t))}}(t),o}(t,l);if(!1!==n&&(V=e(W=t),("rtl"===W.dir||l.rightAlign)&&(W.style.textAlign="right"),("rtl"===W.dir||l.numericInput)&&(W.dir="ltr",W.removeAttribute("dir"),W.inputmask.isRTL=!0,Q=!0),!0===l.colorMask&&G(W),p&&(W.hasOwnProperty("inputmode")&&(W.inputmode=l.inputmode,W.setAttribute("inputmode",l.inputmode)),"rtfm"===l.androidHack&&(!0!==l.colorMask&&G(W),W.type="password")),!0===n&&(te.on(W,"submit",re.submitEvent),te.on(W,"reset",re.resetEvent),te.on(W,"mouseenter",re.mouseenterEvent),te.on(W,"blur",re.blurEvent),te.on(W,"focus",re.focusEvent),te.on(W,"mouseleave",re.mouseleaveEvent),!0!==l.colorMask&&te.on(W,"click",re.clickEvent),te.on(W,"dblclick",re.dblclickEvent),te.on(W,"paste",re.pasteEvent),te.on(W,"dragdrop",re.pasteEvent),te.on(W,"drop",re.pasteEvent),te.on(W,"cut",re.cutEvent),te.on(W,"complete",l.oncomplete),te.on(W,"incomplete",l.onincomplete),te.on(W,"cleared",l.oncleared),p||!0===l.inputEventOnly||(te.on(W,"keydown",re.keydownEvent),te.on(W,"keypress",re.keypressEvent)),te.on(W,"compositionstart",e.noop),te.on(W,"compositionupdate",e.noop),te.on(W,"compositionend",e.noop),te.on(W,"keyup",e.noop),te.on(W,"input",re.inputFallBackEvent),te.on(W,"beforeinput",e.noop)),te.on(W,"setvalue",re.setValueEvent),S(),""!==W.inputmask._valueGet(!0)||!1===l.clearMaskOnLostFocus||r.activeElement===W)){var a=e.isFunction(l.onBeforeMask)&&l.onBeforeMask(W.inputmask._valueGet(!0),l)||W.inputmask._valueGet(!0);""!==a&&j(W,!0,!1,Q?a.split("").reverse():a.split(""));var o=E().slice();U=o.join(""),!1===B(o)&&l.clearIncomplete&&m(),l.clearMaskOnLostFocus&&r.activeElement!==W&&(-1===g()?o=[]:F(o)),D(W,o),r.activeElement===W&&N(W,z(g()))}}(W);break;case"format":return K=(e.isFunction(l.onBeforeMask)&&l.onBeforeMask(a.value,l)||a.value).split(""),j(i,!0,!1,Q?K.reverse():K),a.metadata?{value:Q?E().slice().reverse().join(""):E().join(""),metadata:s.call(this,{action:"getmetadata"},o,l)}:Q?E().slice().reverse().join(""):E().join("");case"isValid":a.value?(K=a.value.split(""),j(i,!0,!0,Q?K.reverse():K)):a.value=E().join("");for(var ie=E(),ne=I(),ae=ie.length-1;ae>ne&&!A(ae);ae--);return ie.splice(ne,ae+1-ne),B(ie)&&a.value===E().join("");case"getemptymask":return S().join("");case"remove":return W&&W.inputmask&&(V=e(W),W.inputmask._valueSet(l.autoUnmask?L(W):W.inputmask._valueGet(!0)),te.off(W),Object.getOwnPropertyDescriptor&&Object.getPrototypeOf?Object.getOwnPropertyDescriptor(Object.getPrototypeOf(W),"value")&&W.inputmask.__valueGet&&Object.defineProperty(W,"value",{get:W.inputmask.__valueGet,set:W.inputmask.__valueSet,configurable:!0}):r.__lookupGetter__&&W.__lookupGetter__("value")&&W.inputmask.__valueGet&&(W.__defineGetter__("value",W.inputmask.__valueGet),W.__defineSetter__("value",W.inputmask.__valueSet)),W.inputmask=i),W;case"getmetadata":if(e.isArray(o.metadata)){var oe=h(!0,0,!1).join("");return e.each(o.metadata,(function(e,t){if(t.mask===oe)return oe=t,!1})),oe}return o.metadata}}var l=navigator.userAgent,c=/mobile/i.test(l),u=/iemobile/i.test(l),d=/iphone/i.test(l)&&!u,p=/android/i.test(l)&&!u;return n.prototype={dataAttribute:"data-inputmask",defaults:{placeholder:"_",optionalmarker:{start:"[",end:"]"},quantifiermarker:{start:"{",end:"}"},groupmarker:{start:"(",end:")"},alternatormarker:"|",escapeChar:"\\",mask:null,oncomplete:e.noop,onincomplete:e.noop,oncleared:e.noop,repeat:0,greedy:!0,autoUnmask:!1,removeMaskOnSubmit:!1,clearMaskOnLostFocus:!0,insertMode:!0,clearIncomplete:!1,alias:null,onKeyDown:e.noop,onBeforeMask:null,onBeforePaste:function(t,r){return e.isFunction(r.onBeforeMask)?r.onBeforeMask(t,r):t},onBeforeWrite:null,onUnMask:null,showMaskOnFocus:!0,showMaskOnHover:!0,onKeyValidation:e.noop,skipOptionalPartCharacter:" ",numericInput:!1,rightAlign:!1,undoOnEscape:!0,radixPoint:"",radixPointDefinitionSymbol:i,groupSeparator:"",keepStatic:null,positionCaretOnTab:!0,tabThrough:!1,supportsInputType:["text","tel","password"],ignorables:[8,9,13,19,27,33,34,35,36,37,38,39,40,45,46,93,112,113,114,115,116,117,118,119,120,121,122,123,0,229],isComplete:null,canClearPosition:e.noop,preValidation:null,postValidation:null,staticDefinitionSymbol:i,jitMasking:!1,nullable:!0,inputEventOnly:!1,noValuePatching:!1,positionCaretOnClick:"lvp",casing:null,inputmode:"verbatim",colorMask:!1,androidHack:!1},definitions:{9:{validator:"[0-9]",cardinality:1,definitionSymbol:"*"},a:{validator:"[A-Za-zА-яЁёÀ-ÿµ]",cardinality:1,definitionSymbol:"*"},"*":{validator:function(){return!0},cardinality:1}},aliases:{},masksCache:{},mask:function(l){function c(r,n,o,s){function l(e,n){null!==(n=n!==i?n:r.getAttribute(s+"-"+e))&&("string"==typeof n&&(0===e.indexOf("on")?n=t[n]:"false"===n?n=!1:"true"===n&&(n=!0)),o[e]=n)}var c,u,d,p,h=r.getAttribute(s);if(h&&""!==h&&(h=h.replace(new RegExp("'","g"),'"'),u=JSON.parse("{"+h+"}")),u)for(p in d=i,u)if("alias"===p.toLowerCase()){d=u[p];break}for(c in l("alias",d),o.alias&&a(o.alias,o,n),n){if(u)for(p in d=i,u)if(p.toLowerCase()===c.toLowerCase()){d=u[p];break}l(c,d)}return e.extend(!0,n,o),n}var u=this;return"string"==typeof l&&(l=r.getElementById(l)||r.querySelectorAll(l)),l=l.nodeName?[l]:l,e.each(l,(function(t,r){var a=e.extend(!0,{},u.opts);c(r,a,e.extend(!0,{},u.userOptions),u.dataAttribute);var l=o(a,u.noMasksCache);l!==i&&(r.inputmask!==i&&r.inputmask.remove(),r.inputmask=new n(i,i,!0),r.inputmask.opts=a,r.inputmask.noMasksCache=u.noMasksCache,r.inputmask.userOptions=e.extend(!0,{},u.userOptions),r.inputmask.isRTL=u.isRTL,r.inputmask.el=r,r.inputmask.maskset=l,e.data(r,"_inputmask_opts",a),s.call(r.inputmask,{action:"mask"}))})),l&&l[0]&&l[0].inputmask||this},option:function(t,r){return"string"==typeof t?this.opts[t]:"object"==typeof t?(e.extend(this.userOptions,t),this.el&&!0!==r&&this.mask(this.el),this):void 0},unmaskedvalue:function(e){return this.maskset=this.maskset||o(this.opts,this.noMasksCache),s.call(this,{action:"unmaskedvalue",value:e})},remove:function(){return s.call(this,{action:"remove"})},getemptymask:function(){return this.maskset=this.maskset||o(this.opts,this.noMasksCache),s.call(this,{action:"getemptymask"})},hasMaskedValue:function(){return!this.opts.autoUnmask},isComplete:function(){return this.maskset=this.maskset||o(this.opts,this.noMasksCache),s.call(this,{action:"isComplete"})},getmetadata:function(){return this.maskset=this.maskset||o(this.opts,this.noMasksCache),s.call(this,{action:"getmetadata"})},isValid:function(e){return this.maskset=this.maskset||o(this.opts,this.noMasksCache),s.call(this,{action:"isValid",value:e})},format:function(e,t){return this.maskset=this.maskset||o(this.opts,this.noMasksCache),s.call(this,{action:"format",value:e,metadata:t})},analyseMask:function(t,r){function a(e,t,r,i){this.matches=[],this.openGroup=e||!1,this.isGroup=e||!1,this.isOptional=t||!1,this.isQuantifier=r||!1,this.isAlternator=i||!1,this.quantifier={min:1,max:1}}function o(e,t,a){var o=(r.definitions?r.definitions[t]:i)||n.prototype.definitions[t];a=a!==i?a:e.matches.length;var s=e.matches[a-1];if(o&&!g){for(var l=o.prevalidator,c=l?l.length:0,u=1;u<o.cardinality;u++){var d=c>=u?l[u-1]:[],p=d.validator,h=d.cardinality;e.matches.splice(a++,0,{fn:p?"string"==typeof p?new RegExp(p):new function(){this.test=p}:new RegExp("."),cardinality:h||1,optionality:e.isOptional,newBlockMarker:s===i||s.def!==(o.definitionSymbol||t),casing:o.casing,def:o.definitionSymbol||t,placeholder:o.placeholder,nativeDef:t}),s=e.matches[a-1]}e.matches.splice(a++,0,{fn:o.validator?"string"==typeof o.validator?new RegExp(o.validator):new function(){this.test=o.validator}:new RegExp("."),cardinality:o.cardinality,optionality:e.isOptional,newBlockMarker:s===i||s.def!==(o.definitionSymbol||t),casing:o.casing,def:o.definitionSymbol||t,placeholder:o.placeholder,nativeDef:t})}else e.matches.splice(a++,0,{fn:null,cardinality:0,optionality:e.isOptional,newBlockMarker:s===i||s.def!==t,casing:null,def:r.staticDefinitionSymbol||t,placeholder:r.staticDefinitionSymbol!==i?t:i,nativeDef:t}),g=!1}function s(){if(y.length>0){if(o(d=y[y.length-1],c),d.isAlternator){p=y.pop();for(var e=0;e<p.matches.length;e++)p.matches[e].isGroup=!1;y.length>0?(d=y[y.length-1]).matches.push(p):v.matches.push(p)}}else o(v,c)}for(var l,c,u,d,p,h,f,m=/(?:[?*+]|\{[0-9\+\*]+(?:,[0-9\+\*]*)?\})|[^.?*+^${[]()|\\]+|./g,g=!1,v=new a,y=[],b=[];l=m.exec(t);)if(c=l[0],g)s();else switch(c.charAt(0)){case r.escapeChar:g=!0;break;case r.optionalmarker.end:case r.groupmarker.end:if((u=y.pop()).openGroup=!1,u!==i)if(y.length>0){if((d=y[y.length-1]).matches.push(u),d.isAlternator){p=y.pop();for(var x=0;x<p.matches.length;x++)p.matches[x].isGroup=!1;y.length>0?(d=y[y.length-1]).matches.push(p):v.matches.push(p)}}else v.matches.push(u);else s();break;case r.optionalmarker.start:y.push(new a(!1,!0));break;case r.groupmarker.start:y.push(new a(!0));break;case r.quantifiermarker.start:var k=new a(!1,!1,!0),w=(c=c.replace(/[{}]/g,"")).split(","),S=isNaN(w[0])?w[0]:parseInt(w[0]),E=1===w.length?S:isNaN(w[1])?w[1]:parseInt(w[1]);if("*"!==E&&"+"!==E||(S="*"===E?0:1),k.quantifier={min:S,max:E},y.length>0){var T=y[y.length-1].matches;(l=T.pop()).isGroup||((f=new a(!0)).matches.push(l),l=f),T.push(l),T.push(k)}else(l=v.matches.pop()).isGroup||((f=new a(!0)).matches.push(l),l=f),v.matches.push(l),v.matches.push(k);break;case r.alternatormarker:(h=y.length>0?(d=y[y.length-1]).matches.pop():v.matches.pop()).isAlternator?y.push(h):((p=new a(!1,!1,!1,!0)).matches.push(h),y.push(p));break;default:s()}for(;y.length>0;)u=y.pop(),v.matches.push(u);return v.matches.length>0&&(function t(n){n&&n.matches&&e.each(n.matches,(function(e,a){var s=n.matches[e+1];(s===i||s.matches===i||!1===s.isQuantifier)&&a&&a.isGroup&&(a.isGroup=!1,o(a,r.groupmarker.start,0),!0!==a.openGroup&&o(a,r.groupmarker.end)),t(a)}))}(v),b.push(v)),r.numericInput&&function e(t){function n(e){return e===r.optionalmarker.start?e=r.optionalmarker.end:e===r.optionalmarker.end?e=r.optionalmarker.start:e===r.groupmarker.start?e=r.groupmarker.end:e===r.groupmarker.end&&(e=r.groupmarker.start),e}for(var a in t.matches=t.matches.reverse(),t.matches)if(t.matches.hasOwnProperty(a)){var o=parseInt(a);if(t.matches[a].isQuantifier&&t.matches[o+1]&&t.matches[o+1].isGroup){var s=t.matches[a];t.matches.splice(a,1),t.matches.splice(o+1,0,s)}t.matches[a].matches!==i?t.matches[a]=e(t.matches[a]):t.matches[a]=n(t.matches[a])}return t}(b[0]),b}},n.extendDefaults=function(t){e.extend(!0,n.prototype.defaults,t)},n.extendDefinitions=function(t){e.extend(!0,n.prototype.definitions,t)},n.extendAliases=function(t){e.extend(!0,n.prototype.aliases,t)},n.format=function(e,t,r){return n(t).format(e,r)},n.unmask=function(e,t){return n(t).unmaskedvalue(e)},n.isValid=function(e,t){return n(t).isValid(e)},n.remove=function(t){e.each(t,(function(e,t){t.inputmask&&t.inputmask.remove()}))},n.escapeRegex=function(e){return e.replace(new RegExp("(\\"+["/",".","*","+","?","|","(",")","[","]","{","}","\\","$","^"].join("|\\")+")","gim"),"\\$1")},n.keyCode={ALT:18,BACKSPACE:8,BACKSPACE_SAFARI:127,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91,X:88},n}(window.dependencyLib||jQuery,window,document),function(e,t){void 0===e.fn.inputmask&&(e.fn.inputmask=function(r,i){var n,a=this[0];if(void 0===i&&(i={}),"string"==typeof r)switch(r){case"unmaskedvalue":return a&&a.inputmask?a.inputmask.unmaskedvalue():e(a).val();case"remove":return this.each((function(){this.inputmask&&this.inputmask.remove()}));case"getemptymask":return a&&a.inputmask?a.inputmask.getemptymask():"";case"hasMaskedValue":return!(!a||!a.inputmask)&&a.inputmask.hasMaskedValue();case"isComplete":return!a||!a.inputmask||a.inputmask.isComplete();case"getmetadata":return a&&a.inputmask?a.inputmask.getmetadata():void 0;case"setvalue":e(a).val(i),a&&void 0===a.inputmask&&e(a).triggerHandler("setvalue");break;case"option":if("string"!=typeof i)return this.each((function(){if(void 0!==this.inputmask)return this.inputmask.option(i)}));if(a&&void 0!==a.inputmask)return a.inputmask.option(i);break;default:return i.alias=r,n=new t(i),this.each((function(){n.mask(this)}))}else{if("object"==typeof r)return n=new t(r),void 0===r.mask&&void 0===r.alias?this.each((function(){return void 0!==this.inputmask?this.inputmask.option(r):void n.mask(this)})):this.each((function(){n.mask(this)}));if(void 0===r)return this.each((function(){(n=new t(i)).mask(this)}))}}),e.fn.inputmask}(jQuery,window.Inputmask),jQuery,Inputmask,function(e,t){t.extendAliases({"dd/mm/yyyy":{mask:"1/2/y",placeholder:"dd/mm/yyyy",regex:{val1pre:new RegExp("[0-3]"),val1:new RegExp("0[1-9]|[12][0-9]|3[01]"),val2pre:function(e){var r=t.escapeRegex.call(this,e);return new RegExp("((0[1-9]|[12][0-9]|3[01])"+r+"[01])")},val2:function(e){var r=t.escapeRegex.call(this,e);return new RegExp("((0[1-9]|[12][0-9])"+r+"(0[1-9]|1[012]))|(30"+r+"(0[13-9]|1[012]))|(31"+r+"(0[13578]|1[02]))")}},leapday:"29/02/",separator:"/",yearrange:{minyear:1900,maxyear:2099},isInYearRange:function(e,t,r){if(isNaN(e))return!1;var i=parseInt(e.concat(t.toString().slice(e.length))),n=parseInt(e.concat(r.toString().slice(e.length)));return!isNaN(i)&&t<=i&&i<=r||!isNaN(n)&&t<=n&&n<=r},determinebaseyear:function(e,t,r){var i=(new Date).getFullYear();if(e>i)return e;if(t<i){for(var n=t.toString().slice(0,2),a=t.toString().slice(2,4);t<n+r;)n--;var o=n+a;return e>o?e:o}if(e<=i&&i<=t){for(var s=i.toString().slice(0,2);t<s+r;)s--;var l=s+r;return l<e?e:l}return i},onKeyDown:function(r,i,n,a){var o=e(this);if(r.ctrlKey&&r.keyCode===t.keyCode.RIGHT){var s=new Date;o.val(s.getDate().toString()+(s.getMonth()+1).toString()+s.getFullYear().toString()),o.trigger("setvalue")}},getFrontValue:function(e,t,r){for(var i=0,n=0,a=0;a<e.length&&"2"!==e.charAt(a);a++){var o=r.definitions[e.charAt(a)];o?(i+=n,n=o.cardinality):n++}return t.join("").substr(i,n)},postValidation:function(e,t,r){var i,n,a=e.join("");return 0===r.mask.indexOf("y")?(n=a.substr(0,4),i=a.substr(4,11)):(n=a.substr(6,11),i=a.substr(0,6)),t&&(i!==r.leapday||function(e){return isNaN(e)||29===new Date(e,2,0).getDate()}(n))},definitions:{1:{validator:function(e,t,r,i,n){var a=n.regex.val1.test(e);return i||a||e.charAt(1)!==n.separator&&-1==="-./".indexOf(e.charAt(1))||!(a=n.regex.val1.test("0"+e.charAt(0)))?a:(t.buffer[r-1]="0",{refreshFromBuffer:{start:r-1,end:r},pos:r,c:e.charAt(0)})},cardinality:2,prevalidator:[{validator:function(e,t,r,i,n){var a=e;isNaN(t.buffer[r+1])||(a+=t.buffer[r+1]);var o=1===a.length?n.regex.val1pre.test(a):n.regex.val1.test(a);if(!i&&!o){if(o=n.regex.val1.test(e+"0"))return t.buffer[r]=e,t.buffer[++r]="0",{pos:r,c:"0"};if(o=n.regex.val1.test("0"+e))return t.buffer[r]="0",{pos:++r}}return o},cardinality:1}]},2:{validator:function(e,t,r,i,n){var a=n.getFrontValue(t.mask,t.buffer,n);-1!==a.indexOf(n.placeholder[0])&&(a="01"+n.separator);var o=n.regex.val2(n.separator).test(a+e);return i||o||e.charAt(1)!==n.separator&&-1==="-./".indexOf(e.charAt(1))||!(o=n.regex.val2(n.separator).test(a+"0"+e.charAt(0)))?o:(t.buffer[r-1]="0",{refreshFromBuffer:{start:r-1,end:r},pos:r,c:e.charAt(0)})},cardinality:2,prevalidator:[{validator:function(e,t,r,i,n){isNaN(t.buffer[r+1])||(e+=t.buffer[r+1]);var a=n.getFrontValue(t.mask,t.buffer,n);-1!==a.indexOf(n.placeholder[0])&&(a="01"+n.separator);var o=1===e.length?n.regex.val2pre(n.separator).test(a+e):n.regex.val2(n.separator).test(a+e);return i||o||!(o=n.regex.val2(n.separator).test(a+"0"+e))?o:(t.buffer[r]="0",{pos:++r})},cardinality:1}]},y:{validator:function(e,t,r,i,n){return n.isInYearRange(e,n.yearrange.minyear,n.yearrange.maxyear)},cardinality:4,prevalidator:[{validator:function(e,t,r,i,n){var a=n.isInYearRange(e,n.yearrange.minyear,n.yearrange.maxyear);if(!i&&!a){var o=n.determinebaseyear(n.yearrange.minyear,n.yearrange.maxyear,e+"0").toString().slice(0,1);if(a=n.isInYearRange(o+e,n.yearrange.minyear,n.yearrange.maxyear))return t.buffer[r++]=o.charAt(0),{pos:r};if(o=n.determinebaseyear(n.yearrange.minyear,n.yearrange.maxyear,e+"0").toString().slice(0,2),a=n.isInYearRange(o+e,n.yearrange.minyear,n.yearrange.maxyear))return t.buffer[r++]=o.charAt(0),t.buffer[r++]=o.charAt(1),{pos:r}}return a},cardinality:1},{validator:function(e,t,r,i,n){var a=n.isInYearRange(e,n.yearrange.minyear,n.yearrange.maxyear);if(!i&&!a){var o=n.determinebaseyear(n.yearrange.minyear,n.yearrange.maxyear,e).toString().slice(0,2);if(a=n.isInYearRange(e[0]+o[1]+e[1],n.yearrange.minyear,n.yearrange.maxyear))return t.buffer[r++]=o.charAt(1),{pos:r};if(o=n.determinebaseyear(n.yearrange.minyear,n.yearrange.maxyear,e).toString().slice(0,2),a=n.isInYearRange(o+e,n.yearrange.minyear,n.yearrange.maxyear))return t.buffer[r-1]=o.charAt(0),t.buffer[r++]=o.charAt(1),t.buffer[r++]=e.charAt(0),{refreshFromBuffer:{start:r-3,end:r},pos:r}}return a},cardinality:2},{validator:function(e,t,r,i,n){return n.isInYearRange(e,n.yearrange.minyear,n.yearrange.maxyear)},cardinality:3}]}},insertMode:!1,autoUnmask:!1},"mm/dd/yyyy":{placeholder:"mm/dd/yyyy",alias:"dd/mm/yyyy",regex:{val2pre:function(e){var r=t.escapeRegex.call(this,e);return new RegExp("((0[13-9]|1[012])"+r+"[0-3])|(02"+r+"[0-2])")},val2:function(e){var r=t.escapeRegex.call(this,e);return new RegExp("((0[1-9]|1[012])"+r+"(0[1-9]|[12][0-9]))|((0[13-9]|1[012])"+r+"30)|((0[13578]|1[02])"+r+"31)")},val1pre:new RegExp("[01]"),val1:new RegExp("0[1-9]|1[012]")},leapday:"02/29/",onKeyDown:function(r,i,n,a){var o=e(this);if(r.ctrlKey&&r.keyCode===t.keyCode.RIGHT){var s=new Date;o.val((s.getMonth()+1).toString()+s.getDate().toString()+s.getFullYear().toString()),o.trigger("setvalue")}}},"yyyy/mm/dd":{mask:"y/1/2",placeholder:"yyyy/mm/dd",alias:"mm/dd/yyyy",leapday:"/02/29",onKeyDown:function(r,i,n,a){var o=e(this);if(r.ctrlKey&&r.keyCode===t.keyCode.RIGHT){var s=new Date;o.val(s.getFullYear().toString()+(s.getMonth()+1).toString()+s.getDate().toString()),o.trigger("setvalue")}}},"dd.mm.yyyy":{mask:"1.2.y",placeholder:"dd.mm.yyyy",leapday:"29.02.",separator:".",alias:"dd/mm/yyyy"},"dd-mm-yyyy":{mask:"1-2-y",placeholder:"dd-mm-yyyy",leapday:"29-02-",separator:"-",alias:"dd/mm/yyyy"},"mm.dd.yyyy":{mask:"1.2.y",placeholder:"mm.dd.yyyy",leapday:"02.29.",separator:".",alias:"mm/dd/yyyy"},"mm-dd-yyyy":{mask:"1-2-y",placeholder:"mm-dd-yyyy",leapday:"02-29-",separator:"-",alias:"mm/dd/yyyy"},"yyyy.mm.dd":{mask:"y.1.2",placeholder:"yyyy.mm.dd",leapday:".02.29",separator:".",alias:"yyyy/mm/dd"},"yyyy-mm-dd":{mask:"y-1-2",placeholder:"yyyy-mm-dd",leapday:"-02-29",separator:"-",alias:"yyyy/mm/dd"},datetime:{mask:"1/2/y h:s",placeholder:"dd/mm/yyyy hh:mm",alias:"dd/mm/yyyy",regex:{hrspre:new RegExp("[012]"),hrs24:new RegExp("2[0-4]|1[3-9]"),hrs:new RegExp("[01][0-9]|2[0-4]"),ampm:new RegExp("^[a|p|A|P][m|M]"),mspre:new RegExp("[0-5]"),ms:new RegExp("[0-5][0-9]")},timeseparator:":",hourFormat:"24",definitions:{h:{validator:function(e,t,r,i,n){if("24"===n.hourFormat&&24===parseInt(e,10))return t.buffer[r-1]="0",t.buffer[r]="0",{refreshFromBuffer:{start:r-1,end:r},c:"0"};var a=n.regex.hrs.test(e);if(!i&&!a&&(e.charAt(1)===n.timeseparator||-1!=="-.:".indexOf(e.charAt(1)))&&(a=n.regex.hrs.test("0"+e.charAt(0))))return t.buffer[r-1]="0",t.buffer[r]=e.charAt(0),{refreshFromBuffer:{start:++r-2,end:r},pos:r,c:n.timeseparator};if(a&&"24"!==n.hourFormat&&n.regex.hrs24.test(e)){var o=parseInt(e,10);return 24===o?(t.buffer[r+5]="a",t.buffer[r+6]="m"):(t.buffer[r+5]="p",t.buffer[r+6]="m"),(o-=12)<10?(t.buffer[r]=o.toString(),t.buffer[r-1]="0"):(t.buffer[r]=o.toString().charAt(1),t.buffer[r-1]=o.toString().charAt(0)),{refreshFromBuffer:{start:r-1,end:r+6},c:t.buffer[r]}}return a},cardinality:2,prevalidator:[{validator:function(e,t,r,i,n){var a=n.regex.hrspre.test(e);return i||a||!(a=n.regex.hrs.test("0"+e))?a:(t.buffer[r]="0",{pos:++r})},cardinality:1}]},s:{validator:"[0-5][0-9]",cardinality:2,prevalidator:[{validator:function(e,t,r,i,n){var a=n.regex.mspre.test(e);return i||a||!(a=n.regex.ms.test("0"+e))?a:(t.buffer[r]="0",{pos:++r})},cardinality:1}]},t:{validator:function(e,t,r,i,n){return n.regex.ampm.test(e+"m")},casing:"lower",cardinality:1}},insertMode:!1,autoUnmask:!1},datetime12:{mask:"1/2/y h:s t\\m",placeholder:"dd/mm/yyyy hh:mm xm",alias:"datetime",hourFormat:"12"},"mm/dd/yyyy hh:mm xm":{mask:"1/2/y h:s t\\m",placeholder:"mm/dd/yyyy hh:mm xm",alias:"datetime12",regex:{val2pre:function(e){var r=t.escapeRegex.call(this,e);return new RegExp("((0[13-9]|1[012])"+r+"[0-3])|(02"+r+"[0-2])")},val2:function(e){var r=t.escapeRegex.call(this,e);return new RegExp("((0[1-9]|1[012])"+r+"(0[1-9]|[12][0-9]))|((0[13-9]|1[012])"+r+"30)|((0[13578]|1[02])"+r+"31)")},val1pre:new RegExp("[01]"),val1:new RegExp("0[1-9]|1[012]")},leapday:"02/29/",onKeyDown:function(r,i,n,a){var o=e(this);if(r.ctrlKey&&r.keyCode===t.keyCode.RIGHT){var s=new Date;o.val((s.getMonth()+1).toString()+s.getDate().toString()+s.getFullYear().toString()),o.trigger("setvalue")}}},"hh:mm t":{mask:"h:s t\\m",placeholder:"hh:mm xm",alias:"datetime",hourFormat:"12"},"h:s t":{mask:"h:s t\\m",placeholder:"hh:mm xm",alias:"datetime",hourFormat:"12"},"hh:mm:ss":{mask:"h:s:s",placeholder:"hh:mm:ss",alias:"datetime",autoUnmask:!1},"hh:mm":{mask:"h:s",placeholder:"hh:mm",alias:"datetime",autoUnmask:!1},date:{alias:"dd/mm/yyyy"},"mm/yyyy":{mask:"1/y",placeholder:"mm/yyyy",leapday:"donotuse",separator:"/",alias:"mm/dd/yyyy"},shamsi:{regex:{val2pre:function(e){var r=t.escapeRegex.call(this,e);return new RegExp("((0[1-9]|1[012])"+r+"[0-3])")},val2:function(e){var r=t.escapeRegex.call(this,e);return new RegExp("((0[1-9]|1[012])"+r+"(0[1-9]|[12][0-9]))|((0[1-9]|1[012])"+r+"30)|((0[1-6])"+r+"31)")},val1pre:new RegExp("[01]"),val1:new RegExp("0[1-9]|1[012]")},yearrange:{minyear:1300,maxyear:1499},mask:"y/1/2",leapday:"/12/30",placeholder:"yyyy/mm/dd",alias:"mm/dd/yyyy",clearIncomplete:!0},"yyyy-mm-dd hh:mm:ss":{mask:"y-1-2 h:s:s",placeholder:"yyyy-mm-dd hh:mm:ss",alias:"datetime",separator:"-",leapday:"-02-29",regex:{val2pre:function(e){var r=t.escapeRegex.call(this,e);return new RegExp("((0[13-9]|1[012])"+r+"[0-3])|(02"+r+"[0-2])")},val2:function(e){var r=t.escapeRegex.call(this,e);return new RegExp("((0[1-9]|1[012])"+r+"(0[1-9]|[12][0-9]))|((0[13-9]|1[012])"+r+"30)|((0[13578]|1[02])"+r+"31)")},val1pre:new RegExp("[01]"),val1:new RegExp("0[1-9]|1[012]")},onKeyDown:function(e,t,r,i){}}})}(window.dependencyLib||jQuery,window.Inputmask),function(e){var t;window.dependencyLib||jQuery,(t=window.Inputmask).extendDefinitions({A:{validator:"[A-Za-zА-яЁёÀ-ÿµ]",cardinality:1,casing:"upper"},"&":{validator:"[0-9A-Za-zА-яЁёÀ-ÿµ]",cardinality:1,casing:"upper"},"#":{validator:"[0-9A-Fa-f]",cardinality:1,casing:"upper"}}),t.extendAliases({url:{definitions:{i:{validator:".",cardinality:1}},mask:"(\\http://)|(\\http\\s://)|(ftp://)|(ftp\\s://)i{+}",insertMode:!1,autoUnmask:!1,inputmode:"url"},ip:{mask:"i[i[i]].i[i[i]].i[i[i]].i[i[i]]",definitions:{i:{validator:function(e,t,r,i,n){return r-1>-1&&"."!==t.buffer[r-1]?(e=t.buffer[r-1]+e,e=r-2>-1&&"."!==t.buffer[r-2]?t.buffer[r-2]+e:"0"+e):e="00"+e,new RegExp("25[0-5]|2[0-4][0-9]|[01][0-9][0-9]").test(e)},cardinality:1}},onUnMask:function(e,t,r){return e},inputmode:"numeric"},email:{mask:"*{1,64}[.*{1,64}][.*{1,64}][.*{1,63}]@-{1,63}.-{1,63}[.-{1,63}][.-{1,63}]",greedy:!1,onBeforePaste:function(e,t){return(e=e.toLowerCase()).replace("mailto:","")},definitions:{"*":{validator:"[0-9A-Za-z!#$%&'*+/=?^_`{|}~-]",cardinality:1,casing:"lower"},"-":{validator:"[0-9A-Za-z-]",cardinality:1,casing:"lower"}},onUnMask:function(e,t,r){return e},inputmode:"email"},mac:{mask:"##:##:##:##:##:##"},vin:{mask:"V{13}9{4}",definitions:{V:{validator:"[A-HJ-NPR-Za-hj-npr-z\\d]",cardinality:1,casing:"upper"}},clearIncomplete:!0,autoUnmask:!0}})}(),function(e,t,r){function i(e,t){for(var r="",i=0;i<e.length;i++)r+=t.definitions[e.charAt(i)]||t.optionalmarker.start===e.charAt(i)||t.optionalmarker.end===e.charAt(i)||t.quantifiermarker.start===e.charAt(i)||t.quantifiermarker.end===e.charAt(i)||t.groupmarker.start===e.charAt(i)||t.groupmarker.end===e.charAt(i)||t.alternatormarker===e.charAt(i)?"\\"+e.charAt(i):e.charAt(i);return r}t.extendAliases({numeric:{mask:function(e){if(0!==e.repeat&&isNaN(e.integerDigits)&&(e.integerDigits=e.repeat),e.repeat=0,e.groupSeparator===e.radixPoint&&("."===e.radixPoint?e.groupSeparator=",":","===e.radixPoint?e.groupSeparator=".":e.groupSeparator="")," "===e.groupSeparator&&(e.skipOptionalPartCharacter=r),e.autoGroup=e.autoGroup&&""!==e.groupSeparator,e.autoGroup&&("string"==typeof e.groupSize&&isFinite(e.groupSize)&&(e.groupSize=parseInt(e.groupSize)),isFinite(e.integerDigits))){var t=Math.floor(e.integerDigits/e.groupSize),n=e.integerDigits%e.groupSize;e.integerDigits=parseInt(e.integerDigits)+(0===n?t-1:t),e.integerDigits<1&&(e.integerDigits="*")}e.placeholder.length>1&&(e.placeholder=e.placeholder.charAt(0)),"radixFocus"===e.positionCaretOnClick&&""===e.placeholder&&!1===e.integerOptional&&(e.positionCaretOnClick="lvp"),e.definitions[";"]=e.definitions["~"],e.definitions[";"].definitionSymbol="~",!0===e.numericInput&&(e.positionCaretOnClick="radixFocus"===e.positionCaretOnClick?"lvp":e.positionCaretOnClick,e.digitsOptional=!1,isNaN(e.digits)&&(e.digits=2),e.decimalProtect=!1);var a="[+]";if(a+=i(e.prefix,e),a+=!0===e.integerOptional?"~{1,"+e.integerDigits+"}":"~{"+e.integerDigits+"}",e.digits!==r){e.radixPointDefinitionSymbol=e.decimalProtect?":":e.radixPoint;var o=e.digits.toString().split(",");isFinite(o[0]&&o[1]&&isFinite(o[1]))?a+=e.radixPointDefinitionSymbol+";{"+e.digits+"}":(isNaN(e.digits)||parseInt(e.digits)>0)&&(a+=e.digitsOptional?"["+e.radixPointDefinitionSymbol+";{1,"+e.digits+"}]":e.radixPointDefinitionSymbol+";{"+e.digits+"}")}return a+=i(e.suffix,e),a+="[-]",e.greedy=!1,a},placeholder:"",greedy:!1,digits:"*",digitsOptional:!0,radixPoint:".",positionCaretOnClick:"radixFocus",groupSize:3,groupSeparator:"",autoGroup:!1,allowMinus:!0,negationSymbol:{front:"-",back:""},integerDigits:"+",integerOptional:!0,prefix:"",suffix:"",rightAlign:!0,decimalProtect:!0,min:null,max:null,step:1,insertMode:!0,autoUnmask:!1,unmaskAsNumber:!1,inputmode:"numeric",preValidation:function(t,i,n,a,o){if("-"===n||n==o.negationSymbol.front)return!0===o.allowMinus&&(o.isNegative=o.isNegative===r||!o.isNegative,""===t.join("")||{caret:i,dopost:!0});if(!1===a&&n===o.radixPoint&&o.digits!==r&&(isNaN(o.digits)||parseInt(o.digits)>0)){var s=e.inArray(o.radixPoint,t);if(-1!==s)return!0===o.numericInput?i===s:{caret:s+1}}return!0},postValidation:function(i,n,a){var o=a.suffix.split(""),s=a.prefix.split("");if(n.pos==r&&n.caret!==r&&!0!==n.dopost)return n;var l=n.caret!=r?n.caret:n.pos,c=i.slice();a.numericInput&&(l=c.length-l-1,c=c.reverse());var u=c[l];if(u===a.groupSeparator&&(u=c[l+=1]),l==c.length-a.suffix.length-1&&u===a.radixPoint)return n;u!==r&&u!==a.radixPoint&&u!==a.negationSymbol.front&&u!==a.negationSymbol.back&&(c[l]="?",a.prefix.length>0&&l>=(!1===a.isNegative?1:0)&&l<a.prefix.length-1+(!1===a.isNegative?1:0)?s[l-(!1===a.isNegative?1:0)]="?":a.suffix.length>0&&l>=c.length-a.suffix.length-(!1===a.isNegative?1:0)&&(o[l-(c.length-a.suffix.length-(!1===a.isNegative?1:0))]="?")),s=s.join(""),o=o.join("");var d=c.join("").replace(s,"");if(d=(d=(d=(d=d.replace(o,"")).replace(new RegExp(t.escapeRegex(a.groupSeparator),"g"),"")).replace(new RegExp("[-"+t.escapeRegex(a.negationSymbol.front)+"]","g"),"")).replace(new RegExp(t.escapeRegex(a.negationSymbol.back)+"$"),""),isNaN(a.placeholder)&&(d=d.replace(new RegExp(t.escapeRegex(a.placeholder),"g"),"")),d.length>1&&1!==d.indexOf(a.radixPoint)&&("0"==u&&(d=d.replace(/^\?/g,"")),d=d.replace(/^0/g,"")),d.charAt(0)===a.radixPoint&&!0!==a.numericInput&&(d="0"+d),""!==d){if(d=d.split(""),!a.digitsOptional&&isFinite(a.digits)){var p=e.inArray(a.radixPoint,d),h=e.inArray(a.radixPoint,c);-1===p&&(d.push(a.radixPoint),p=d.length-1);for(var f=1;f<=a.digits;f++)a.digitsOptional||d[p+f]!==r&&d[p+f]!==a.placeholder.charAt(0)?-1!==h&&c[h+f]!==r&&(d[p+f]=d[p+f]||c[h+f]):d[p+f]=n.placeholder||a.placeholder.charAt(0)}!0!==a.autoGroup||""===a.groupSeparator||u===a.radixPoint&&n.pos===r&&!n.dopost?d=d.join(""):(d=t(function(e,t){var r="";if(r+="("+t.groupSeparator+"*{"+t.groupSize+"}){*}",""!==t.radixPoint){var i=e.join("").split(t.radixPoint);i[1]&&(r+=t.radixPoint+"*{"+i[1].match(/^\d*\??\d*/)[0].length+"}")}return r}(d,a),{numericInput:!0,jitMasking:!0,definitions:{"*":{validator:"[0-9?]",cardinality:1}}}).format(d.join(""))).charAt(0)===a.groupSeparator&&d.substr(1)}if(a.isNegative&&"blur"===n.event&&(a.isNegative="0"!==d),d=s+d,d+=o,a.isNegative&&(d=a.negationSymbol.front+d,d+=a.negationSymbol.back),d=d.split(""),u!==r)if(u!==a.radixPoint&&u!==a.negationSymbol.front&&u!==a.negationSymbol.back)(l=e.inArray("?",d))>-1?d[l]=u:l=n.caret||0;else if(u===a.radixPoint||u===a.negationSymbol.front||u===a.negationSymbol.back){var m=e.inArray(u,d);-1!==m&&(l=m)}a.numericInput&&(l=d.length-l-1,d=d.reverse());var g={caret:u===r||n.pos!==r?l+(a.numericInput?-1:1):l,buffer:d,refreshFromBuffer:n.dopost||i.join("")!==d.join("")};return g.refreshFromBuffer?g:n},onBeforeWrite:function(i,n,a,o){if(i)switch(i.type){case"keydown":return o.postValidation(n,{caret:a,dopost:!0},o);case"blur":case"checkval":var s;if(function(e){e.parseMinMaxOptions===r&&(null!==e.min&&(e.min=e.min.toString().replace(new RegExp(t.escapeRegex(e.groupSeparator),"g"),""),","===e.radixPoint&&(e.min=e.min.replace(e.radixPoint,".")),e.min=isFinite(e.min)?parseFloat(e.min):NaN,isNaN(e.min)&&(e.min=Number.MIN_VALUE)),null!==e.max&&(e.max=e.max.toString().replace(new RegExp(t.escapeRegex(e.groupSeparator),"g"),""),","===e.radixPoint&&(e.max=e.max.replace(e.radixPoint,".")),e.max=isFinite(e.max)?parseFloat(e.max):NaN,isNaN(e.max)&&(e.max=Number.MAX_VALUE)),e.parseMinMaxOptions="done")}(o),null!==o.min||null!==o.max){if(s=o.onUnMask(n.join(""),r,e.extend({},o,{unmaskAsNumber:!0})),null!==o.min&&s<o.min)return o.isNegative=o.min<0,o.postValidation(o.min.toString().replace(".",o.radixPoint).split(""),{caret:a,dopost:!0,placeholder:"0"},o);if(null!==o.max&&s>o.max)return o.isNegative=o.max<0,o.postValidation(o.max.toString().replace(".",o.radixPoint).split(""),{caret:a,dopost:!0,placeholder:"0"},o)}return o.postValidation(n,{caret:a,dopost:!0,placeholder:"0",event:"blur"},o);case"_checkval":return{caret:a}}},regex:{integerPart:function(e,r){return r?new RegExp("["+t.escapeRegex(e.negationSymbol.front)+"+]?"):new RegExp("["+t.escapeRegex(e.negationSymbol.front)+"+]?\\d+")},integerNPart:function(e){return new RegExp("[\\d"+t.escapeRegex(e.groupSeparator)+t.escapeRegex(e.placeholder.charAt(0))+"]+")}},definitions:{"~":{validator:function(e,i,n,a,o,s){var l=a?new RegExp("[0-9"+t.escapeRegex(o.groupSeparator)+"]").test(e):new RegExp("[0-9]").test(e);if(!0===l){if(!0!==o.numericInput&&i.validPositions[n]!==r&&"~"===i.validPositions[n].match.def&&!s){var c=i.buffer.join("");c=(c=(c=c.replace(new RegExp("[-"+t.escapeRegex(o.negationSymbol.front)+"]","g"),"")).replace(new RegExp(t.escapeRegex(o.negationSymbol.back)+"$"),"")).replace(/0/g,o.placeholder.charAt(0));var u=i._buffer.join("");for(c===o.radixPoint&&(c=u);null===c.match(t.escapeRegex(u)+"$");)u=u.slice(1);l=(c=(c=c.replace(u,"")).split(""))[n]===r?{pos:n,remove:n}:{pos:n}}}else a||e!==o.radixPoint||i.validPositions[n-1]!==r||(i.buffer[n]="0",l={pos:n+1});return l},cardinality:1},"+":{validator:function(e,t,r,i,n){return n.allowMinus&&("-"===e||e===n.negationSymbol.front)},cardinality:1,placeholder:""},"-":{validator:function(e,t,r,i,n){return n.allowMinus&&e===n.negationSymbol.back},cardinality:1,placeholder:""},":":{validator:function(e,r,i,n,a){var o="["+t.escapeRegex(a.radixPoint)+"]";return isValid=new RegExp(o).test(e),isValid&&r.validPositions[i]&&r.validPositions[i].match.placeholder===a.radixPoint&&(isValid={caret:i+1}),isValid},cardinality:1,placeholder:function(e){return e.radixPoint}}},onUnMask:function(e,r,i){if(""===r&&!0===i.nullable)return r;var n=e.replace(i.prefix,"");return n=(n=n.replace(i.suffix,"")).replace(new RegExp(t.escapeRegex(i.groupSeparator),"g"),""),""!==i.placeholder.charAt(0)&&(n=n.replace(new RegExp(i.placeholder.charAt(0),"g"),"0")),i.unmaskAsNumber?(""!==i.radixPoint&&-1!==n.indexOf(i.radixPoint)&&(n=n.replace(t.escapeRegex.call(this,i.radixPoint),".")),Number(n)):n},isComplete:function(e,r){var i=e.join("");if(e.slice().join("")!==i)return!1;var n=i.replace(r.prefix,"");return n=(n=n.replace(r.suffix,"")).replace(new RegExp(t.escapeRegex(r.groupSeparator),"g"),""),","===r.radixPoint&&(n=n.replace(t.escapeRegex(r.radixPoint),".")),isFinite(n)},onBeforeMask:function(e,i){if(i.isNegative=r,e=e.toString().charAt(e.length-1)===i.radixPoint?e.toString().substr(0,e.length-1):e.toString(),""!==i.radixPoint&&isFinite(e)){var n=e.split("."),a=""!==i.groupSeparator?parseInt(i.groupSize):0;2===n.length&&(n[0].length>a||n[1].length>a||n[0].length<a&&n[1].length<a)&&(e=e.replace(".",i.radixPoint))}var o=e.match(/,/g),s=e.match(/\./g);if(e=s&&o?s.length>o.length?(e=e.replace(/\./g,"")).replace(",",i.radixPoint):o.length>s.length?(e=e.replace(/,/g,"")).replace(".",i.radixPoint):e.indexOf(".")<e.indexOf(",")?e.replace(/\./g,""):e=e.replace(/,/g,""):e.replace(new RegExp(t.escapeRegex(i.groupSeparator),"g"),""),0===i.digits&&(-1!==e.indexOf(".")?e=e.substring(0,e.indexOf(".")):-1!==e.indexOf(",")&&(e=e.substring(0,e.indexOf(",")))),""!==i.radixPoint&&isFinite(i.digits)&&-1!==e.indexOf(i.radixPoint)){var l=e.split(i.radixPoint)[1].match(new RegExp("\\d*"))[0];if(parseInt(i.digits)<l.toString().length){var c=Math.pow(10,parseInt(i.digits));e=e.replace(t.escapeRegex(i.radixPoint),"."),e=(e=Math.round(parseFloat(e)*c)/c).toString().replace(".",i.radixPoint)}}return e},canClearPosition:function(e,t,r,i,n){var a=e.validPositions[t],o=a.input!==n.radixPoint||null!==e.validPositions[t].match.fn&&!1===n.decimalProtect||a.input===n.radixPoint&&e.validPositions[t+1]&&null===e.validPositions[t+1].match.fn||isFinite(a.input)||t===r||a.input===n.groupSeparator||a.input===n.negationSymbol.front||a.input===n.negationSymbol.back;return!o||"+"!=a.match.nativeDef&&"-"!=a.match.nativeDef||(n.isNegative=!1),o},onKeyDown:function(r,i,n,a){var o=e(this);if(r.ctrlKey)switch(r.keyCode){case t.keyCode.UP:o.val(parseFloat(this.inputmask.unmaskedvalue())+parseInt(a.step)),o.trigger("setvalue");break;case t.keyCode.DOWN:o.val(parseFloat(this.inputmask.unmaskedvalue())-parseInt(a.step)),o.trigger("setvalue")}}},currency:{prefix:"$ ",groupSeparator:",",alias:"numeric",placeholder:"0",autoGroup:!0,digits:2,digitsOptional:!1,clearMaskOnLostFocus:!1},decimal:{alias:"numeric"},integer:{alias:"numeric",digits:0,radixPoint:""},percentage:{alias:"numeric",digits:2,digitsOptional:!0,radixPoint:".",placeholder:"0",autoGroup:!1,min:0,max:100,suffix:" %",allowMinus:!1}})}(window.dependencyLib||jQuery,window.Inputmask),function(e,t){function r(e,t){var r=(e.mask||e).replace(/#/g,"9").replace(/\)/,"9").replace(/[+()#-]/g,""),i=(t.mask||t).replace(/#/g,"9").replace(/\)/,"9").replace(/[+()#-]/g,""),n=(e.mask||e).split("#")[0],a=(t.mask||t).split("#")[0];return 0===a.indexOf(n)?-1:0===n.indexOf(a)?1:r.localeCompare(i)}var i=t.prototype.analyseMask;t.prototype.analyseMask=function(t,r){var n={};return r.phoneCodes&&(r.phoneCodes&&r.phoneCodes.length>1e3&&(function e(r,i,a){a=a||n,""!==(i=i||"")&&(a[i]={});for(var o="",s=a[i]||a,l=r.length-1;l>=0;l--)s[o=(t=r[l].mask||r[l]).substr(0,1)]=s[o]||[],s[o].unshift(t.substr(1)),r.splice(l,1);for(var c in s)s[c].length>500&&e(s[c].slice(),c,s)}((t=t.substr(1,t.length-2)).split(r.groupmarker.end+r.alternatormarker+r.groupmarker.start)),t=function t(i){var n="",a=[];for(var o in i)e.isArray(i[o])?1===i[o].length?a.push(o+i[o]):a.push(o+r.groupmarker.start+i[o].join(r.groupmarker.end+r.alternatormarker+r.groupmarker.start)+r.groupmarker.end):a.push(o+t(i[o]));return n+(1===a.length?a[0]:r.groupmarker.start+a.join(r.groupmarker.end+r.alternatormarker+r.groupmarker.start)+r.groupmarker.end)}(n)),t=t.replace(/9/g,"\\9")),i.call(this,t,r)},t.extendAliases({abstractphone:{groupmarker:{start:"<",end:">"},countrycode:"",phoneCodes:[],mask:function(e){return e.definitions={"#":t.prototype.definitions[9]},e.phoneCodes.sort(r)},keepStatic:!0,onBeforeMask:function(e,t){var r=e.replace(/^0{1,2}/,"").replace(/[\s]/g,"");return(r.indexOf(t.countrycode)>1||-1===r.indexOf(t.countrycode))&&(r="+"+t.countrycode+r),r},onUnMask:function(e,t,r){return t},inputmode:"tel"}})}(window.dependencyLib||jQuery,window.Inputmask),function(e,t){t.extendAliases({Regex:{mask:"r",greedy:!1,repeat:"*",regex:null,regexTokens:null,tokenizer:/\[\^?]?(?:[^\\\]]+|\\[\S\s]?)*]?|\\(?:0(?:[0-3][0-7]{0,2}|[4-7][0-7]?)?|[1-9][0-9]*|x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4}|c[A-Za-z]|[\S\s]?)|\((?:\?[:=!]?)?|(?:[?*+]|\{[0-9]+(?:,[0-9]*)?\})\??|[^.?*+^${[()|\\]+|./g,quantifierFilter:/[0-9]+[^,]/,isComplete:function(e,t){return new RegExp(t.regex,t.casing?"i":"").test(e.join(""))},definitions:{r:{validator:function(t,r,i,n,a){function o(e,t){this.matches=[],this.isGroup=e||!1,this.isQuantifier=t||!1,this.quantifier={min:1,max:1},this.repeaterPart=void 0}function s(t,r){var i=!1;r&&(d+="(",h++);for(var n=0;n<t.matches.length;n++){var o=t.matches[n];if(!0===o.isGroup)i=s(o,!0);else if(!0===o.isQuantifier){var c=e.inArray(o,t.matches),u=t.matches[c-1],p=d;if(isNaN(o.quantifier.max)){for(;o.repeaterPart&&o.repeaterPart!==d&&o.repeaterPart.length>d.length&&!(i=s(u,!0)););(i=i||s(u,!0))&&(o.repeaterPart=d),d=p+o.quantifier.max}else{for(var f=0,m=o.quantifier.max-1;f<m&&!(i=s(u,!0));f++);d=p+"{"+o.quantifier.min+","+o.quantifier.max+"}"}}else if(void 0!==o.matches)for(var g=0;g<o.length&&!(i=s(o[g],r));g++);else{var v;if("["==o.charAt(0)){v=d,v+=o;for(var y=0;y<h;y++)v+=")";i=new RegExp("^("+v+")$",a.casing?"i":"").test(l)}else for(var b=0,x=o.length;b<x;b++)if("\\"!==o.charAt(b)){for(v=d,v=(v+=o.substr(0,b+1)).replace(/\|$/,""),y=0;y<h;y++)v+=")";if(i=new RegExp("^("+v+")$",a.casing?"i":"").test(l))break}d+=o}if(i)break}return r&&(d+=")",h--),i}var l,c,u=r.buffer.slice(),d="",p=!1,h=0;null===a.regexTokens&&function(){var e,t,r=new o,i=[];for(a.regexTokens=[];e=a.tokenizer.exec(a.regex);)switch(t=e[0],t.charAt(0)){case"(":i.push(new o(!0));break;case")":c=i.pop(),i.length>0?i[i.length-1].matches.push(c):r.matches.push(c);break;case"{":case"+":case"*":var n=new o(!1,!0),s=(t=t.replace(/[{}]/g,"")).split(","),l=isNaN(s[0])?s[0]:parseInt(s[0]),u=1===s.length?l:isNaN(s[1])?s[1]:parseInt(s[1]);if(n.quantifier={min:l,max:u},i.length>0){var d=i[i.length-1].matches;(e=d.pop()).isGroup||((c=new o(!0)).matches.push(e),e=c),d.push(e),d.push(n)}else(e=r.matches.pop()).isGroup||((c=new o(!0)).matches.push(e),e=c),r.matches.push(e),r.matches.push(n);break;default:i.length>0?i[i.length-1].matches.push(t):r.matches.push(t)}r.matches.length>0&&a.regexTokens.push(r)}(),u.splice(i,0,t),l=u.join("");for(var f=0;f<a.regexTokens.length;f++){var m=a.regexTokens[f];if(p=s(m,m.isGroup))break}return p},cardinality:1}}}})}(window.dependencyLib||jQuery,window.Inputmask),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e(require("jquery")):e(jQuery)}((function(e){"use strict";var t=!1,r=!1,i=0,n=2e3,a=0,o=e,s=document,l=window,c=o(l),u=[],d=l.requestAnimationFrame||l.webkitRequestAnimationFrame||l.mozRequestAnimationFrame||!1,p=l.cancelAnimationFrame||l.webkitCancelAnimationFrame||l.mozCancelAnimationFrame||!1;if(d)l.cancelAnimationFrame||(p=function(e){});else{var h=0;d=function(e,t){var r=(new Date).getTime(),i=Math.max(0,16-(r-h)),n=l.setTimeout((function(){e(r+i)}),i);return h=r+i,n},p=function(e){l.clearTimeout(e)}}var f=l.MutationObserver||l.WebKitMutationObserver||!1,m=Date.now||function(){return(new Date).getTime()},g={zindex:"auto",cursoropacitymin:0,cursoropacitymax:1,cursorcolor:"#424242",cursorwidth:"6px",cursorborder:"1px solid #fff",cursorborderradius:"5px",scrollspeed:40,mousescrollstep:27,touchbehavior:!1,emulatetouch:!1,hwacceleration:!0,usetransition:!0,boxzoom:!1,dblclickzoom:!0,gesturezoom:!0,grabcursorenabled:!0,autohidemode:!0,background:"",iframeautoresize:!0,cursorminheight:32,preservenativescrolling:!0,railoffset:!1,railhoffset:!1,bouncescroll:!0,spacebarenabled:!0,railpadding:{top:0,right:0,left:0,bottom:0},disableoutline:!0,horizrailenabled:!0,railalign:"right",railvalign:"bottom",enabletranslate3d:!0,enablemousewheel:!0,enablekeyboard:!0,smoothscroll:!0,sensitiverail:!0,enablemouselockapi:!0,cursorfixedheight:!1,directionlockdeadzone:6,hidecursordelay:400,nativeparentscrolling:!0,enablescrollonselection:!0,overflowx:!0,overflowy:!0,cursordragspeed:.3,rtlmode:"auto",cursordragontouch:!1,oneaxismousemode:"auto",scriptpath:function(){var e=s.currentScript||function(){var e=s.getElementsByTagName("script");return!!e.length&&e[e.length-1]}(),t=e?e.src.split("?")[0]:"";return t.split("/").length>0?t.split("/").slice(0,-1).join("/")+"/":""}(),preventmultitouchscrolling:!0,disablemutationobserver:!1,enableobserver:!0,scrollbarid:!1},v=!1,y=function(){if(v)return v;var e=s.createElement("DIV"),t=e.style,r=navigator.userAgent,i=navigator.platform,n={};return n.haspointerlock="pointerLockElement"in s||"webkitPointerLockElement"in s||"mozPointerLockElement"in s,n.isopera="opera"in l,n.isopera12=n.isopera&&"getUserMedia"in navigator,n.isoperamini="[object OperaMini]"===Object.prototype.toString.call(l.operamini),n.isie="all"in s&&"attachEvent"in e&&!n.isopera,n.isieold=n.isie&&!("msInterpolationMode"in t),n.isie7=n.isie&&!n.isieold&&(!("documentMode"in s)||7===s.documentMode),n.isie8=n.isie&&"documentMode"in s&&8===s.documentMode,n.isie9=n.isie&&"performance"in l&&9===s.documentMode,n.isie10=n.isie&&"performance"in l&&10===s.documentMode,n.isie11="msRequestFullscreen"in e&&s.documentMode>=11,n.ismsedge="msCredentials"in l,n.ismozilla="MozAppearance"in t,n.iswebkit=!n.ismsedge&&"WebkitAppearance"in t,n.ischrome=n.iswebkit&&"chrome"in l,n.ischrome38=n.ischrome&&"touchAction"in t,n.ischrome22=!n.ischrome38&&n.ischrome&&n.haspointerlock,n.ischrome26=!n.ischrome38&&n.ischrome&&"transition"in t,n.cantouch="ontouchstart"in s.documentElement||"ontouchstart"in l,n.hasw3ctouch=!!l.PointerEvent&&(navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0),n.hasmstouch=!n.hasw3ctouch&&(l.MSPointerEvent||!1),n.ismac=/^mac$/i.test(i),n.isios=n.cantouch&&/iphone|ipad|ipod/i.test(i),n.isios4=n.isios&&!("seal"in Object),n.isios7=n.isios&&"webkitHidden"in s,n.isios8=n.isios&&"hidden"in s,n.isios10=n.isios&&l.Proxy,n.isandroid=/android/i.test(r),n.haseventlistener="addEventListener"in e,n.trstyle=!1,n.hastransform=!1,n.hastranslate3d=!1,n.transitionstyle=!1,n.hastransition=!1,n.transitionend=!1,n.trstyle="transform",n.hastransform="transform"in t||function(){for(var e=["msTransform","webkitTransform","MozTransform","OTransform"],r=0,i=e.length;r<i;r++)if(void 0!==t[e[r]]){n.trstyle=e[r];break}n.hastransform=!!n.trstyle}(),n.hastransform&&(t[n.trstyle]="translate3d(1px,2px,3px)",n.hastranslate3d=/translate3d/.test(t[n.trstyle])),n.transitionstyle="transition",n.prefixstyle="",n.transitionend="transitionend",n.hastransition="transition"in t||function(){n.transitionend=!1;for(var e=["webkitTransition","msTransition","MozTransition","OTransition","OTransition","KhtmlTransition"],r=["-webkit-","-ms-","-moz-","-o-","-o","-khtml-"],i=["webkitTransitionEnd","msTransitionEnd","transitionend","otransitionend","oTransitionEnd","KhtmlTransitionEnd"],a=0,o=e.length;a<o;a++)if(e[a]in t){n.transitionstyle=e[a],n.prefixstyle=r[a],n.transitionend=i[a];break}n.ischrome26&&(n.prefixstyle=r[1]),n.hastransition=n.transitionstyle}(),n.cursorgrabvalue=function(){var e=["grab","-webkit-grab","-moz-grab"];(n.ischrome&&!n.ischrome38||n.isie)&&(e=[]);for(var r=0,i=e.length;r<i;r++){var a=e[r];if(t.cursor=a,t.cursor==a)return a}return"url(https://cdnjs.cloudflare.com/ajax/libs/slider-pro/1.3.0/css/images/openhand.cur),n-resize"}(),n.hasmousecapture="setCapture"in e,n.hasMutationObserver=!1!==f,e=null,v=n,n},b=function(e,h){function v(){var e=E.doc.css(z.trstyle);return!(!e||"matrix"!=e.substr(0,6))&&e.replace(/^.*\((.*)\)$/g,"$1").replace(/px/g,"").split(/, +/)}function b(e,t,r){var i=e.css(t),n=parseFloat(i);if(isNaN(n)){var a=3==(n=D[i]||0)?r?E.win.outerHeight()-E.win.innerHeight():E.win.outerWidth()-E.win.innerWidth():1;return E.isie8&&n&&(n+=1),a?n:0}return n}function k(e,t,r,i){E._bind(e,t,(function(i){var n={original:i=i||l.event,target:i.target||i.srcElement,type:"wheel",deltaMode:"MozMousePixelScroll"==i.type?0:1,deltaX:0,deltaZ:0,preventDefault:function(){return i.preventDefault?i.preventDefault():i.returnValue=!1,!1},stopImmediatePropagation:function(){i.stopImmediatePropagation?i.stopImmediatePropagation():i.cancelBubble=!0}};return"mousewheel"==t?(i.wheelDeltaX&&(n.deltaX=-.025*i.wheelDeltaX),i.wheelDeltaY&&(n.deltaY=-.025*i.wheelDeltaY),!n.deltaY&&!n.deltaX&&(n.deltaY=-.025*i.wheelDelta)):n.deltaY=i.detail,r.call(e,n)}),i)}function w(e,t,r,i){E.scrollrunning||(E.newscrolly=E.getScrollTop(),E.newscrollx=E.getScrollLeft(),F=m());var n=m()-F;if(F=m(),n>350?B=1:B+=(2-B)/10,t=t*B|0,e=e*B|0){if(i)if(e<0){if(E.getScrollLeft()>=E.page.maxw)return!0}else if(E.getScrollLeft()<=0)return!0;var a=e>0?1:-1;I!==a&&(E.scrollmom&&E.scrollmom.stop(),E.newscrollx=E.getScrollLeft(),I=a),E.lastdeltax-=e}if(t){if(function(){var e=E.getScrollTop();if(t<0){if(e>=E.page.maxh)return!0}else if(e<=0)return!0}()){if(P.nativeparentscrolling&&r&&!E.ispage&&!E.zoomactive)return!0;var o=E.view.h>>1;E.newscrolly<-o?(E.newscrolly=-o,t=-1):E.newscrolly>E.page.maxh+o?(E.newscrolly=E.page.maxh+o,t=1):t=0}var s=t>0?1:-1;N!==s&&(E.scrollmom&&E.scrollmom.stop(),E.newscrolly=E.getScrollTop(),N=s),E.lastdeltay-=t}(t||e)&&E.synched("relativexy",(function(){var e=E.lastdeltay+E.newscrolly;E.lastdeltay=0;var t=E.lastdeltax+E.newscrollx;E.lastdeltax=0,E.rail.drag||E.doScrollPos(t,e)}))}function S(e,t,r){var i,n;return!(r||!H)||(0===e.deltaMode?(i=-e.deltaX*(P.mousescrollstep/54)|0,n=-e.deltaY*(P.mousescrollstep/54)|0):1===e.deltaMode&&(i=-e.deltaX*P.mousescrollstep*50/80|0,n=-e.deltaY*P.mousescrollstep*50/80|0),t&&P.oneaxismousemode&&0===i&&n&&(i=n,n=0,r&&(i<0?E.getScrollLeft()>=E.page.maxw:E.getScrollLeft()<=0)&&(n=i,i=0)),E.isrtlmode&&(i=-i),w(i,n,r,!0)?void(r&&(H=!0)):(H=!1,e.stopImmediatePropagation(),e.preventDefault()))}var E=this;this.version="3.7.6",this.name="nicescroll",this.me=h;var T=o("body"),P=this.opt={doc:T,win:!1};if(o.extend(P,g),P.snapbackspeed=80,e)for(var C in P)void 0!==e[C]&&(P[C]=e[C]);if(P.disablemutationobserver&&(f=!1),this.doc=P.doc,this.iddoc=this.doc&&this.doc[0]&&this.doc[0].id||"",this.ispage=/^BODY|HTML/.test(P.win?P.win[0].nodeName:this.doc[0].nodeName),this.haswrapper=!1!==P.win,this.win=P.win||(this.ispage?c:this.doc),this.docscroll=this.ispage&&!this.haswrapper?c:this.win,this.body=T,this.viewport=!1,this.isfixed=!1,this.iframe=!1,this.isiframe="IFRAME"==this.doc[0].nodeName&&"IFRAME"==this.win[0].nodeName,this.istextarea="TEXTAREA"==this.win[0].nodeName,this.forcescreen=!1,this.canshowonmouseevent="scroll"!=P.autohidemode,this.onmousedown=!1,this.onmouseup=!1,this.onmousemove=!1,this.onmousewheel=!1,this.onkeypress=!1,this.ongesturezoom=!1,this.onclick=!1,this.onscrollstart=!1,this.onscrollend=!1,this.onscrollcancel=!1,this.onzoomin=!1,this.onzoomout=!1,this.view=!1,this.page=!1,this.scroll={x:0,y:0},this.scrollratio={x:0,y:0},this.cursorheight=20,this.scrollvaluemax=0,"auto"==P.rtlmode){var M=this.win[0]==l?this.body:this.win,A=M.css("writing-mode")||M.css("-webkit-writing-mode")||M.css("-ms-writing-mode")||M.css("-moz-writing-mode");"horizontal-tb"==A||"lr-tb"==A||""===A?(this.isrtlmode="rtl"==M.css("direction"),this.isvertical=!1):(this.isrtlmode="vertical-rl"==A||"tb"==A||"tb-rl"==A||"rl-tb"==A,this.isvertical="vertical-rl"==A||"tb"==A||"tb-rl"==A)}else this.isrtlmode=!0===P.rtlmode,this.isvertical=!1;if(this.scrollrunning=!1,this.scrollmom=!1,this.observer=!1,this.observerremover=!1,this.observerbody=!1,!1!==P.scrollbarid)this.id=P.scrollbarid;else do{this.id="ascrail"+n++}while(s.getElementById(this.id));this.rail=!1,this.cursor=!1,this.cursorfreezed=!1,this.selectiondrag=!1,this.zoom=!1,this.zoomactive=!1,this.hasfocus=!1,this.hasmousefocus=!1,this.railslocked=!1,this.locked=!1,this.hidden=!1,this.cursoractive=!0,this.wheelprevented=!1,this.overflowx=P.overflowx,this.overflowy=P.overflowy,this.nativescrollingarea=!1,this.checkarea=0,this.events=[],this.saved={},this.delaylist={},this.synclist={},this.lastdeltax=0,this.lastdeltay=0,this.detected=y();var z=o.extend({},this.detected);this.canhwscroll=z.hastransform&&P.hwacceleration,this.ishwscroll=this.canhwscroll&&E.haswrapper,this.isrtlmode?this.isvertical?this.hasreversehr=!(z.iswebkit||z.isie||z.isie11):this.hasreversehr=!(z.iswebkit||z.isie&&!z.isie10&&!z.isie11):this.hasreversehr=!1,this.istouchcapable=!1,(z.cantouch||!z.hasw3ctouch&&!z.hasmstouch)&&(!z.cantouch||z.isios||z.isandroid||!z.iswebkit&&!z.ismozilla)||(this.istouchcapable=!0),P.enablemouselockapi||(z.hasmousecapture=!1,z.haspointerlock=!1),this.debounced=function(e,t,r){E&&(E.delaylist[e]||(E.delaylist[e]={h:d((function(){E.delaylist[e].fn.call(E),E.delaylist[e]=!1}),r)},t.call(E)),E.delaylist[e].fn=t)},this.synched=function(e,t){E.synclist[e]?E.synclist[e]=t:(E.synclist[e]=t,d((function(){E&&(E.synclist[e]&&E.synclist[e].call(E),E.synclist[e]=null)})))},this.unsynched=function(e){E.synclist[e]&&(E.synclist[e]=!1)},this.css=function(e,t){for(var r in t)E.saved.css.push([e,r,e.css(r)]),e.css(r,t[r])},this.scrollTop=function(e){return void 0===e?E.getScrollTop():E.setScrollTop(e)},this.scrollLeft=function(e){return void 0===e?E.getScrollLeft():E.setScrollLeft(e)};var O=function(e,t,r,i,n,a,o){this.st=e,this.ed=t,this.spd=r,this.p1=i||0,this.p2=n||1,this.p3=a||0,this.p4=o||1,this.ts=m(),this.df=t-e};if(O.prototype={B2:function(e){return 3*(1-e)*(1-e)*e},B3:function(e){return 3*(1-e)*e*e},B4:function(e){return e*e*e},getPos:function(){return(m()-this.ts)/this.spd},getNow:function(){var e=(m()-this.ts)/this.spd,t=this.B2(e)+this.B3(e)+this.B4(e);return e>=1?this.ed:this.st+this.df*t|0},update:function(e,t){return this.st=this.getNow(),this.ed=e,this.spd=t,this.ts=m(),this.df=this.ed-this.st,this}},this.ishwscroll){this.doc.translate={x:0,y:0,tx:"0px",ty:"0px"},z.hastranslate3d&&z.isios&&this.doc.css("-webkit-backface-visibility","hidden"),this.getScrollTop=function(e){if(!e){var t=v();if(t)return 16==t.length?-t[13]:-t[5];if(E.timerscroll&&E.timerscroll.bz)return E.timerscroll.bz.getNow()}return E.doc.translate.y},this.getScrollLeft=function(e){if(!e){var t=v();if(t)return 16==t.length?-t[12]:-t[4];if(E.timerscroll&&E.timerscroll.bh)return E.timerscroll.bh.getNow()}return E.doc.translate.x},this.notifyScrollEvent=function(e){var t=s.createEvent("UIEvents");t.initUIEvent("scroll",!1,!1,l,1),t.niceevent=!0,e.dispatchEvent(t)};var R=this.isrtlmode?1:-1;z.hastranslate3d&&P.enabletranslate3d?(this.setScrollTop=function(e,t){E.doc.translate.y=e,E.doc.translate.ty=-1*e+"px",E.doc.css(z.trstyle,"translate3d("+E.doc.translate.tx+","+E.doc.translate.ty+",0)"),t||E.notifyScrollEvent(E.win[0])},this.setScrollLeft=function(e,t){E.doc.translate.x=e,E.doc.translate.tx=e*R+"px",E.doc.css(z.trstyle,"translate3d("+E.doc.translate.tx+","+E.doc.translate.ty+",0)"),t||E.notifyScrollEvent(E.win[0])}):(this.setScrollTop=function(e,t){E.doc.translate.y=e,E.doc.translate.ty=-1*e+"px",E.doc.css(z.trstyle,"translate("+E.doc.translate.tx+","+E.doc.translate.ty+")"),t||E.notifyScrollEvent(E.win[0])},this.setScrollLeft=function(e,t){E.doc.translate.x=e,E.doc.translate.tx=e*R+"px",E.doc.css(z.trstyle,"translate("+E.doc.translate.tx+","+E.doc.translate.ty+")"),t||E.notifyScrollEvent(E.win[0])})}else this.getScrollTop=function(){return E.docscroll.scrollTop()},this.setScrollTop=function(e){E.docscroll.scrollTop(e)},this.getScrollLeft=function(){return E.hasreversehr?E.detected.ismozilla?E.page.maxw-Math.abs(E.docscroll.scrollLeft()):E.page.maxw-E.docscroll.scrollLeft():E.docscroll.scrollLeft()},this.setScrollLeft=function(e){return setTimeout((function(){if(E)return E.hasreversehr&&(e=E.detected.ismozilla?-(E.page.maxw-e):E.page.maxw-e),E.docscroll.scrollLeft(e)}),1)};this.getTarget=function(e){return!!e&&(e.target?e.target:!!e.srcElement&&e.srcElement)},this.hasParent=function(e,t){if(!e)return!1;for(var r=e.target||e.srcElement||e||!1;r&&r.id!=t;)r=r.parentNode||!1;return!1!==r};var D={thin:1,medium:3,thick:5};this.getDocumentScrollOffset=function(){return{top:l.pageYOffset||s.documentElement.scrollTop,left:l.pageXOffset||s.documentElement.scrollLeft}},this.getOffset=function(){if(E.isfixed){var e=E.win.offset(),t=E.getDocumentScrollOffset();return e.top-=t.top,e.left-=t.left,e}var r=E.win.offset();if(!E.viewport)return r;var i=E.viewport.offset();return{top:r.top-i.top,left:r.left-i.left}},this.updateScrollBar=function(e){var t,r;if(E.ishwscroll)E.rail.css({height:E.win.innerHeight()-(P.railpadding.top+P.railpadding.bottom)}),E.railh&&E.railh.css({width:E.win.innerWidth()-(P.railpadding.left+P.railpadding.right)});else{var i=E.getOffset();if((t={top:i.top,left:i.left-(P.railpadding.left+P.railpadding.right)}).top+=b(E.win,"border-top-width",!0),t.left+=E.rail.align?E.win.outerWidth()-b(E.win,"border-right-width")-E.rail.width:b(E.win,"border-left-width"),(r=P.railoffset)&&(r.top&&(t.top+=r.top),r.left&&(t.left+=r.left)),E.railslocked||E.rail.css({top:t.top,left:t.left,height:(e?e.h:E.win.innerHeight())-(P.railpadding.top+P.railpadding.bottom)}),E.zoom&&E.zoom.css({top:t.top+1,left:1==E.rail.align?t.left-20:t.left+E.rail.width+4}),E.railh&&!E.railslocked){t={top:i.top,left:i.left},(r=P.railhoffset)&&(r.top&&(t.top+=r.top),r.left&&(t.left+=r.left));var n=E.railh.align?t.top+b(E.win,"border-top-width",!0)+E.win.innerHeight()-E.railh.height:t.top+b(E.win,"border-top-width",!0),a=t.left+b(E.win,"border-left-width");E.railh.css({top:n-(P.railpadding.top+P.railpadding.bottom),left:a,width:E.railh.width})}}},this.doRailClick=function(e,t,r){var i,n,a,o;E.railslocked||(E.cancelEvent(e),"pageY"in e||(e.pageX=e.clientX+s.documentElement.scrollLeft,e.pageY=e.clientY+s.documentElement.scrollTop),t?(i=r?E.doScrollLeft:E.doScrollTop,a=r?(e.pageX-E.railh.offset().left-E.cursorwidth/2)*E.scrollratio.x:(e.pageY-E.rail.offset().top-E.cursorheight/2)*E.scrollratio.y,E.unsynched("relativexy"),i(0|a)):(i=r?E.doScrollLeftBy:E.doScrollBy,a=r?E.scroll.x:E.scroll.y,o=r?e.pageX-E.railh.offset().left:e.pageY-E.rail.offset().top,n=r?E.view.w:E.view.h,i(a>=o?n:-n)))},E.newscrolly=E.newscrollx=0,E.hasanimationframe="requestAnimationFrame"in l,E.hascancelanimationframe="cancelAnimationFrame"in l,E.hasborderbox=!1,this.init=function(){if(E.saved.css=[],z.isoperamini)return!0;if(z.isandroid&&!("hidden"in s))return!0;P.emulatetouch=P.emulatetouch||P.touchbehavior,E.hasborderbox=l.getComputedStyle&&"border-box"===l.getComputedStyle(s.body)["box-sizing"];var e={"overflow-y":"hidden"};if((z.isie11||z.isie10)&&(e["-ms-overflow-style"]="none"),E.ishwscroll&&(this.doc.css(z.transitionstyle,z.prefixstyle+"transform 0ms ease-out"),z.transitionend&&E.bind(E.doc,z.transitionend,E.onScrollTransitionEnd,!1)),E.zindex="auto",E.ispage||"auto"!=P.zindex?E.zindex=P.zindex:E.zindex=function(){var e=E.win;if("zIndex"in e)return e.zIndex();for(;e.length>0;){if(9==e[0].nodeType)return!1;var t=e.css("zIndex");if(!isNaN(t)&&0!==t)return parseInt(t);e=e.parent()}return!1}()||"auto",!E.ispage&&"auto"!=E.zindex&&E.zindex>a&&(a=E.zindex),E.isie&&0===E.zindex&&"auto"==P.zindex&&(E.zindex="auto"),!E.ispage||!z.isieold){var n=E.docscroll;E.ispage&&(n=E.haswrapper?E.win:E.doc),E.css(n,e),E.ispage&&(z.isie11||z.isie)&&E.css(o("html"),e),!z.isios||E.ispage||E.haswrapper||E.css(T,{"-webkit-overflow-scrolling":"touch"});var u=o(s.createElement("div"));u.css({position:"relative",top:0,float:"right",width:P.cursorwidth,height:0,"background-color":P.cursorcolor,border:P.cursorborder,"background-clip":"padding-box","-webkit-border-radius":P.cursorborderradius,"-moz-border-radius":P.cursorborderradius,"border-radius":P.cursorborderradius}),u.addClass("nicescroll-cursors"),E.cursor=u;var d=o(s.createElement("div"));d.attr("id",E.id),d.addClass("nicescroll-rails nicescroll-rails-vr");var p,h,m=["left","right","top","bottom"];for(var g in m)h=m[g],(p=P.railpadding[h]||0)&&d.css("padding-"+h,p+"px");d.append(u),d.width=Math.max(parseFloat(P.cursorwidth),u.outerWidth()),d.css({width:d.width+"px",zIndex:E.zindex,background:P.background,cursor:"default"}),d.visibility=!0,d.scrollable=!0,d.align="left"==P.railalign?0:1,E.rail=d,E.rail.drag=!1;var v,y=!1;if(!P.boxzoom||E.ispage||z.isieold||(y=s.createElement("div"),E.bind(y,"click",E.doZoom),E.bind(y,"mouseenter",(function(){E.zoom.css("opacity",P.cursoropacitymax)})),E.bind(y,"mouseleave",(function(){E.zoom.css("opacity",P.cursoropacitymin)})),E.zoom=o(y),E.zoom.css({cursor:"pointer",zIndex:E.zindex,backgroundImage:"url("+P.scriptpath+"zoomico.png)",height:18,width:18,backgroundPosition:"0 0"}),P.dblclickzoom&&E.bind(E.win,"dblclick",E.doZoom),z.cantouch&&P.gesturezoom&&(E.ongesturezoom=function(e){return e.scale>1.5&&E.doZoomIn(e),e.scale<.8&&E.doZoomOut(e),E.cancelEvent(e)},E.bind(E.win,"gestureend",E.ongesturezoom))),E.railh=!1,P.horizrailenabled&&(E.css(n,{overflowX:"hidden"}),(u=o(s.createElement("div"))).css({position:"absolute",top:0,height:P.cursorwidth,width:0,backgroundColor:P.cursorcolor,border:P.cursorborder,backgroundClip:"padding-box","-webkit-border-radius":P.cursorborderradius,"-moz-border-radius":P.cursorborderradius,"border-radius":P.cursorborderradius}),z.isieold&&u.css("overflow","hidden"),u.addClass("nicescroll-cursors"),E.cursorh=u,(v=o(s.createElement("div"))).attr("id",E.id+"-hr"),v.addClass("nicescroll-rails nicescroll-rails-hr"),v.height=Math.max(parseFloat(P.cursorwidth),u.outerHeight()),v.css({height:v.height+"px",zIndex:E.zindex,background:P.background}),v.append(u),v.visibility=!0,v.scrollable=!0,v.align="top"==P.railvalign?0:1,E.railh=v,E.railh.drag=!1),E.ispage)d.css({position:"fixed",top:0,height:"100%"}),d.css(d.align?{right:0}:{left:0}),E.body.append(d),E.railh&&(v.css({position:"fixed",left:0,width:"100%"}),v.css(v.align?{bottom:0}:{top:0}),E.body.append(v));else{if(E.ishwscroll){"static"==E.win.css("position")&&E.css(E.win,{position:"relative"});var b="HTML"==E.win[0].nodeName?E.body:E.win;o(b).scrollTop(0).scrollLeft(0),E.zoom&&(E.zoom.css({position:"absolute",top:1,right:0,"margin-right":d.width+4}),b.append(E.zoom)),d.css({position:"absolute",top:0}),d.css(d.align?{right:0}:{left:0}),b.append(d),v&&(v.css({position:"absolute",left:0,bottom:0}),v.css(v.align?{bottom:0}:{top:0}),b.append(v))}else{E.isfixed="fixed"==E.win.css("position");var k=E.isfixed?"fixed":"absolute";E.isfixed||(E.viewport=E.getViewport(E.win[0])),E.viewport&&(E.body=E.viewport,/fixed|absolute/.test(E.viewport.css("position"))||E.css(E.viewport,{position:"relative"})),d.css({position:k}),E.zoom&&E.zoom.css({position:k}),E.updateScrollBar(),E.body.append(d),E.zoom&&E.body.append(E.zoom),E.railh&&(v.css({position:k}),E.body.append(v))}z.isios&&E.css(E.win,{"-webkit-tap-highlight-color":"rgba(0,0,0,0)","-webkit-touch-callout":"none"}),P.disableoutline&&(z.isie&&E.win.attr("hideFocus","true"),z.iswebkit&&E.win.css("outline","none"))}if(!1===P.autohidemode?(E.autohidedom=!1,E.rail.css({opacity:P.cursoropacitymax}),E.railh&&E.railh.css({opacity:P.cursoropacitymax})):!0===P.autohidemode||"leave"===P.autohidemode?(E.autohidedom=o().add(E.rail),z.isie8&&(E.autohidedom=E.autohidedom.add(E.cursor)),E.railh&&(E.autohidedom=E.autohidedom.add(E.railh)),E.railh&&z.isie8&&(E.autohidedom=E.autohidedom.add(E.cursorh))):"scroll"==P.autohidemode?(E.autohidedom=o().add(E.rail),E.railh&&(E.autohidedom=E.autohidedom.add(E.railh))):"cursor"==P.autohidemode?(E.autohidedom=o().add(E.cursor),E.railh&&(E.autohidedom=E.autohidedom.add(E.cursorh))):"hidden"==P.autohidemode&&(E.autohidedom=!1,E.hide(),E.railslocked=!1),z.cantouch||E.istouchcapable||P.emulatetouch||z.hasmstouch){E.scrollmom=new x(E),E.ontouchstart=function(e){if(E.locked)return!1;if(e.pointerType&&("mouse"===e.pointerType||e.pointerType===e.MSPOINTER_TYPE_MOUSE))return!1;if(E.hasmoving=!1,E.scrollmom.timer&&(E.triggerScrollEnd(),E.scrollmom.stop()),!E.railslocked){var t=E.getTarget(e);if(t&&/INPUT/i.test(t.nodeName)&&/range/i.test(t.type))return E.stopPropagation(e);var r="mousedown"===e.type;if(!("clientX"in e)&&"changedTouches"in e&&(e.clientX=e.changedTouches[0].clientX,e.clientY=e.changedTouches[0].clientY),E.forcescreen){var i=e;(e={original:e.original?e.original:e}).clientX=i.screenX,e.clientY=i.screenY}if(E.rail.drag={x:e.clientX,y:e.clientY,sx:E.scroll.x,sy:E.scroll.y,st:E.getScrollTop(),sl:E.getScrollLeft(),pt:2,dl:!1,tg:t},E.ispage||!P.directionlockdeadzone)E.rail.drag.dl="f";else{var n={w:c.width(),h:c.height()},a=E.getContentSize(),s=a.h-n.h,l=a.w-n.w;E.rail.scrollable&&!E.railh.scrollable?E.rail.drag.ck=s>0&&"v":!E.rail.scrollable&&E.railh.scrollable?E.rail.drag.ck=l>0&&"h":E.rail.drag.ck=!1}if(P.emulatetouch&&E.isiframe&&z.isie){var u=E.win.position();E.rail.drag.x+=u.left,E.rail.drag.y+=u.top}if(E.hasmoving=!1,E.lastmouseup=!1,E.scrollmom.reset(e.clientX,e.clientY),t&&r){if(!/INPUT|SELECT|BUTTON|TEXTAREA/i.test(t.nodeName))return z.hasmousecapture&&t.setCapture(),P.emulatetouch?(t.onclick&&!t._onclick&&(t._onclick=t.onclick,t.onclick=function(e){if(E.hasmoving)return!1;t._onclick.call(this,e)}),E.cancelEvent(e)):E.stopPropagation(e);/SUBMIT|CANCEL|BUTTON/i.test(o(t).attr("type"))&&(E.preventclick={tg:t,click:!1})}}},E.ontouchend=function(e){if(!E.rail.drag)return!0;if(2==E.rail.drag.pt){if(e.pointerType&&("mouse"===e.pointerType||e.pointerType===e.MSPOINTER_TYPE_MOUSE))return!1;E.rail.drag=!1;var t="mouseup"===e.type;if(E.hasmoving&&(E.scrollmom.doMomentum(),E.lastmouseup=!0,E.hideCursor(),z.hasmousecapture&&s.releaseCapture(),t))return E.cancelEvent(e)}else if(1==E.rail.drag.pt)return E.onmouseup(e)};var w=P.emulatetouch&&E.isiframe&&!z.hasmousecapture,S=.3*P.directionlockdeadzone|0;E.ontouchmove=function(e,t){if(!E.rail.drag)return!0;if(e.targetTouches&&P.preventmultitouchscrolling&&e.targetTouches.length>1)return!0;if(e.pointerType&&("mouse"===e.pointerType||e.pointerType===e.MSPOINTER_TYPE_MOUSE))return!0;if(2==E.rail.drag.pt){var r,i;if("changedTouches"in e&&(e.clientX=e.changedTouches[0].clientX,e.clientY=e.changedTouches[0].clientY),i=r=0,w&&!t){var n=E.win.position();i=-n.left,r=-n.top}var a=e.clientY+r,o=a-E.rail.drag.y,l=e.clientX+i,c=l-E.rail.drag.x,u=E.rail.drag.st-o;if(E.ishwscroll&&P.bouncescroll)u<0?u=Math.round(u/2):u>E.page.maxh&&(u=E.page.maxh+Math.round((u-E.page.maxh)/2));else if(u<0?(u=0,a=0):u>E.page.maxh&&(u=E.page.maxh,a=0),0===a&&!E.hasmoving)return E.ispage||(E.rail.drag=!1),!0;var d=E.getScrollLeft();if(E.railh&&E.railh.scrollable&&(d=E.isrtlmode?c-E.rail.drag.sl:E.rail.drag.sl-c,E.ishwscroll&&P.bouncescroll?d<0?d=Math.round(d/2):d>E.page.maxw&&(d=E.page.maxw+Math.round((d-E.page.maxw)/2)):(d<0&&(d=0,l=0),d>E.page.maxw&&(d=E.page.maxw,l=0))),!E.hasmoving){if(E.rail.drag.y===e.clientY&&E.rail.drag.x===e.clientX)return E.cancelEvent(e);var p=Math.abs(o),h=Math.abs(c),f=P.directionlockdeadzone;if(E.rail.drag.ck?"v"==E.rail.drag.ck?h>f&&p<=S?E.rail.drag=!1:p>f&&(E.rail.drag.dl="v"):"h"==E.rail.drag.ck&&(p>f&&h<=S?E.rail.drag=!1:h>f&&(E.rail.drag.dl="h")):p>f&&h>f?E.rail.drag.dl="f":p>f?E.rail.drag.dl=h>S?"f":"v":h>f&&(E.rail.drag.dl=p>S?"f":"h"),!E.rail.drag.dl)return E.cancelEvent(e);E.triggerScrollStart(e.clientX,e.clientY,0,0,0),E.hasmoving=!0}return E.preventclick&&!E.preventclick.click&&(E.preventclick.click=E.preventclick.tg.onclick||!1,E.preventclick.tg.onclick=E.onpreventclick),E.rail.drag.dl&&("v"==E.rail.drag.dl?d=E.rail.drag.sl:"h"==E.rail.drag.dl&&(u=E.rail.drag.st)),E.synched("touchmove",(function(){E.rail.drag&&2==E.rail.drag.pt&&(E.prepareTransition&&E.resetTransition(),E.rail.scrollable&&E.setScrollTop(u),E.scrollmom.update(l,a),E.railh&&E.railh.scrollable?(E.setScrollLeft(d),E.showCursor(u,d)):E.showCursor(u),z.isie10&&s.selection.clear())})),E.cancelEvent(e)}return 1==E.rail.drag.pt?E.onmousemove(e):void 0},E.ontouchstartCursor=function(e,t){if(!E.rail.drag||3==E.rail.drag.pt){if(E.locked)return E.cancelEvent(e);E.cancelScroll(),E.rail.drag={x:e.touches[0].clientX,y:e.touches[0].clientY,sx:E.scroll.x,sy:E.scroll.y,pt:3,hr:!!t};var r=E.getTarget(e);return!E.ispage&&z.hasmousecapture&&r.setCapture(),E.isiframe&&!z.hasmousecapture&&(E.saved.csspointerevents=E.doc.css("pointer-events"),E.css(E.doc,{"pointer-events":"none"})),E.cancelEvent(e)}},E.ontouchendCursor=function(e){if(E.rail.drag){if(z.hasmousecapture&&s.releaseCapture(),E.isiframe&&!z.hasmousecapture&&E.doc.css("pointer-events",E.saved.csspointerevents),3!=E.rail.drag.pt)return;return E.rail.drag=!1,E.cancelEvent(e)}},E.ontouchmoveCursor=function(e){if(E.rail.drag){if(3!=E.rail.drag.pt)return;if(E.cursorfreezed=!0,E.rail.drag.hr){E.scroll.x=E.rail.drag.sx+(e.touches[0].clientX-E.rail.drag.x),E.scroll.x<0&&(E.scroll.x=0);var t=E.scrollvaluemaxw;E.scroll.x>t&&(E.scroll.x=t)}else{E.scroll.y=E.rail.drag.sy+(e.touches[0].clientY-E.rail.drag.y),E.scroll.y<0&&(E.scroll.y=0);var r=E.scrollvaluemax;E.scroll.y>r&&(E.scroll.y=r)}return E.synched("touchmove",(function(){E.rail.drag&&3==E.rail.drag.pt&&(E.showCursor(),E.rail.drag.hr?E.doScrollLeft(Math.round(E.scroll.x*E.scrollratio.x),P.cursordragspeed):E.doScrollTop(Math.round(E.scroll.y*E.scrollratio.y),P.cursordragspeed))})),E.cancelEvent(e)}}}if(E.onmousedown=function(e,t){if(!E.rail.drag||1==E.rail.drag.pt){if(E.railslocked)return E.cancelEvent(e);E.cancelScroll(),E.rail.drag={x:e.clientX,y:e.clientY,sx:E.scroll.x,sy:E.scroll.y,pt:1,hr:t||!1};var r=E.getTarget(e);return z.hasmousecapture&&r.setCapture(),E.isiframe&&!z.hasmousecapture&&(E.saved.csspointerevents=E.doc.css("pointer-events"),E.css(E.doc,{"pointer-events":"none"})),E.hasmoving=!1,E.cancelEvent(e)}},E.onmouseup=function(e){if(E.rail.drag)return 1!=E.rail.drag.pt||(z.hasmousecapture&&s.releaseCapture(),E.isiframe&&!z.hasmousecapture&&E.doc.css("pointer-events",E.saved.csspointerevents),E.rail.drag=!1,E.cursorfreezed=!1,E.hasmoving&&E.triggerScrollEnd(),E.cancelEvent(e))},E.onmousemove=function(e){if(E.rail.drag){if(1!==E.rail.drag.pt)return;if(z.ischrome&&0===e.which)return E.onmouseup(e);if(E.cursorfreezed=!0,E.hasmoving||E.triggerScrollStart(e.clientX,e.clientY,0,0,0),E.hasmoving=!0,E.rail.drag.hr){E.scroll.x=E.rail.drag.sx+(e.clientX-E.rail.drag.x),E.scroll.x<0&&(E.scroll.x=0);var t=E.scrollvaluemaxw;E.scroll.x>t&&(E.scroll.x=t)}else{E.scroll.y=E.rail.drag.sy+(e.clientY-E.rail.drag.y),E.scroll.y<0&&(E.scroll.y=0);var r=E.scrollvaluemax;E.scroll.y>r&&(E.scroll.y=r)}return E.synched("mousemove",(function(){E.cursorfreezed&&(E.showCursor(),E.rail.drag.hr?E.scrollLeft(Math.round(E.scroll.x*E.scrollratio.x)):E.scrollTop(Math.round(E.scroll.y*E.scrollratio.y)))})),E.cancelEvent(e)}E.checkarea=0},z.cantouch||P.emulatetouch)E.onpreventclick=function(e){if(E.preventclick)return E.preventclick.tg.onclick=E.preventclick.click,E.preventclick=!1,E.cancelEvent(e)},E.onclick=!z.isios&&function(e){return!E.lastmouseup||(E.lastmouseup=!1,E.cancelEvent(e))},P.grabcursorenabled&&z.cursorgrabvalue&&(E.css(E.ispage?E.doc:E.win,{cursor:z.cursorgrabvalue}),E.css(E.rail,{cursor:z.cursorgrabvalue}));else{var C=function(e){if(E.selectiondrag){if(e){var t=E.win.outerHeight(),r=e.pageY-E.selectiondrag.top;r>0&&r<t&&(r=0),r>=t&&(r-=t),E.selectiondrag.df=r}if(0!==E.selectiondrag.df){var i=-2*E.selectiondrag.df/6|0;E.doScrollBy(i),E.debounced("doselectionscroll",(function(){C()}),50)}}};E.hasTextSelected="getSelection"in s?function(){return s.getSelection().rangeCount>0}:"selection"in s?function(){return"None"!=s.selection.type}:function(){return!1},E.onselectionstart=function(e){E.ispage||(E.selectiondrag=E.win.offset())},E.onselectionend=function(e){E.selectiondrag=!1},E.onselectiondrag=function(e){E.selectiondrag&&E.hasTextSelected()&&E.debounced("selectionscroll",(function(){C(e)}),250)}}if(z.hasw3ctouch?(E.css(E.ispage?o("html"):E.win,{"touch-action":"none"}),E.css(E.rail,{"touch-action":"none"}),E.css(E.cursor,{"touch-action":"none"}),E.bind(E.win,"pointerdown",E.ontouchstart),E.bind(s,"pointerup",E.ontouchend),E.delegate(s,"pointermove",E.ontouchmove)):z.hasmstouch?(E.css(E.ispage?o("html"):E.win,{"-ms-touch-action":"none"}),E.css(E.rail,{"-ms-touch-action":"none"}),E.css(E.cursor,{"-ms-touch-action":"none"}),E.bind(E.win,"MSPointerDown",E.ontouchstart),E.bind(s,"MSPointerUp",E.ontouchend),E.delegate(s,"MSPointerMove",E.ontouchmove),E.bind(E.cursor,"MSGestureHold",(function(e){e.preventDefault()})),E.bind(E.cursor,"contextmenu",(function(e){e.preventDefault()}))):z.cantouch&&(E.bind(E.win,"touchstart",E.ontouchstart,!1,!0),E.bind(s,"touchend",E.ontouchend,!1,!0),E.bind(s,"touchcancel",E.ontouchend,!1,!0),E.delegate(s,"touchmove",E.ontouchmove,!1,!0)),P.emulatetouch&&(E.bind(E.win,"mousedown",E.ontouchstart,!1,!0),E.bind(s,"mouseup",E.ontouchend,!1,!0),E.bind(s,"mousemove",E.ontouchmove,!1,!0)),(P.cursordragontouch||!z.cantouch&&!P.emulatetouch)&&(E.rail.css({cursor:"default"}),E.railh&&E.railh.css({cursor:"default"}),E.jqbind(E.rail,"mouseenter",(function(){if(!E.ispage&&!E.win.is(":visible"))return!1;E.canshowonmouseevent&&E.showCursor(),E.rail.active=!0})),E.jqbind(E.rail,"mouseleave",(function(){E.rail.active=!1,E.rail.drag||E.hideCursor()})),P.sensitiverail&&(E.bind(E.rail,"click",(function(e){E.doRailClick(e,!1,!1)})),E.bind(E.rail,"dblclick",(function(e){E.doRailClick(e,!0,!1)})),E.bind(E.cursor,"click",(function(e){E.cancelEvent(e)})),E.bind(E.cursor,"dblclick",(function(e){E.cancelEvent(e)}))),E.railh&&(E.jqbind(E.railh,"mouseenter",(function(){if(!E.ispage&&!E.win.is(":visible"))return!1;E.canshowonmouseevent&&E.showCursor(),E.rail.active=!0})),E.jqbind(E.railh,"mouseleave",(function(){E.rail.active=!1,E.rail.drag||E.hideCursor()})),P.sensitiverail&&(E.bind(E.railh,"click",(function(e){E.doRailClick(e,!1,!0)})),E.bind(E.railh,"dblclick",(function(e){E.doRailClick(e,!0,!0)})),E.bind(E.cursorh,"click",(function(e){E.cancelEvent(e)})),E.bind(E.cursorh,"dblclick",(function(e){E.cancelEvent(e)}))))),P.cursordragontouch&&(this.istouchcapable||z.cantouch)&&(E.bind(E.cursor,"touchstart",E.ontouchstartCursor),E.bind(E.cursor,"touchmove",E.ontouchmoveCursor),E.bind(E.cursor,"touchend",E.ontouchendCursor),E.cursorh&&E.bind(E.cursorh,"touchstart",(function(e){E.ontouchstartCursor(e,!0)})),E.cursorh&&E.bind(E.cursorh,"touchmove",E.ontouchmoveCursor),E.cursorh&&E.bind(E.cursorh,"touchend",E.ontouchendCursor)),P.emulatetouch||z.isandroid||z.isios?(E.bind(z.hasmousecapture?E.win:s,"mouseup",E.ontouchend),E.onclick&&E.bind(s,"click",E.onclick),P.cursordragontouch?(E.bind(E.cursor,"mousedown",E.onmousedown),E.bind(E.cursor,"mouseup",E.onmouseup),E.cursorh&&E.bind(E.cursorh,"mousedown",(function(e){E.onmousedown(e,!0)})),E.cursorh&&E.bind(E.cursorh,"mouseup",E.onmouseup)):(E.bind(E.rail,"mousedown",(function(e){e.preventDefault()})),E.railh&&E.bind(E.railh,"mousedown",(function(e){e.preventDefault()})))):(E.bind(z.hasmousecapture?E.win:s,"mouseup",E.onmouseup),E.bind(s,"mousemove",E.onmousemove),E.onclick&&E.bind(s,"click",E.onclick),E.bind(E.cursor,"mousedown",E.onmousedown),E.bind(E.cursor,"mouseup",E.onmouseup),E.railh&&(E.bind(E.cursorh,"mousedown",(function(e){E.onmousedown(e,!0)})),E.bind(E.cursorh,"mouseup",E.onmouseup)),!E.ispage&&P.enablescrollonselection&&(E.bind(E.win[0],"mousedown",E.onselectionstart),E.bind(s,"mouseup",E.onselectionend),E.bind(E.cursor,"mouseup",E.onselectionend),E.cursorh&&E.bind(E.cursorh,"mouseup",E.onselectionend),E.bind(s,"mousemove",E.onselectiondrag)),E.zoom&&(E.jqbind(E.zoom,"mouseenter",(function(){E.canshowonmouseevent&&E.showCursor(),E.rail.active=!0})),E.jqbind(E.zoom,"mouseleave",(function(){E.rail.active=!1,E.rail.drag||E.hideCursor()})))),P.enablemousewheel&&(E.isiframe||E.mousewheel(z.isie&&E.ispage?s:E.win,E.onmousewheel),E.mousewheel(E.rail,E.onmousewheel),E.railh&&E.mousewheel(E.railh,E.onmousewheelhr)),E.ispage||z.cantouch||/HTML|^BODY/.test(E.win[0].nodeName)||(E.win.attr("tabindex")||E.win.attr({tabindex:++i}),E.bind(E.win,"focus",(function(e){t=E.getTarget(e).id||E.getTarget(e)||!1,E.hasfocus=!0,E.canshowonmouseevent&&E.noticeCursor()})),E.bind(E.win,"blur",(function(e){t=!1,E.hasfocus=!1})),E.bind(E.win,"mouseenter",(function(e){r=E.getTarget(e).id||E.getTarget(e)||!1,E.hasmousefocus=!0,E.canshowonmouseevent&&E.noticeCursor()})),E.bind(E.win,"mouseleave",(function(e){r=!1,E.hasmousefocus=!1,E.rail.drag||E.hideCursor()}))),E.onkeypress=function(e){if(E.railslocked&&0===E.page.maxh)return!0;e=e||l.event;var i=E.getTarget(e);if(i&&/INPUT|TEXTAREA|SELECT|OPTION/.test(i.nodeName)&&(!i.getAttribute("type")&&!i.type||!/submit|button|cancel/i.tp))return!0;if(o(i).attr("contenteditable"))return!0;if(E.hasfocus||E.hasmousefocus&&!t||E.ispage&&!t&&!r){var n=e.keyCode;if(E.railslocked&&27!=n)return E.cancelEvent(e);var a=e.ctrlKey||!1,s=e.shiftKey||!1,c=!1;switch(n){case 38:case 63233:E.doScrollBy(72),c=!0;break;case 40:case 63235:E.doScrollBy(-72),c=!0;break;case 37:case 63232:E.railh&&(a?E.doScrollLeft(0):E.doScrollLeftBy(72),c=!0);break;case 39:case 63234:E.railh&&(a?E.doScrollLeft(E.page.maxw):E.doScrollLeftBy(-72),c=!0);break;case 33:case 63276:E.doScrollBy(E.view.h),c=!0;break;case 34:case 63277:E.doScrollBy(-E.view.h),c=!0;break;case 36:case 63273:E.railh&&a?E.doScrollPos(0,0):E.doScrollTo(0),c=!0;break;case 35:case 63275:E.railh&&a?E.doScrollPos(E.page.maxw,E.page.maxh):E.doScrollTo(E.page.maxh),c=!0;break;case 32:P.spacebarenabled&&(s?E.doScrollBy(E.view.h):E.doScrollBy(-E.view.h),c=!0);break;case 27:E.zoomactive&&(E.doZoom(),c=!0)}if(c)return E.cancelEvent(e)}},P.enablekeyboard&&E.bind(s,z.isopera&&!z.isopera12?"keypress":"keydown",E.onkeypress),E.bind(s,"keydown",(function(e){e.ctrlKey&&(E.wheelprevented=!0)})),E.bind(s,"keyup",(function(e){e.ctrlKey||(E.wheelprevented=!1)})),E.bind(l,"blur",(function(e){E.wheelprevented=!1})),E.bind(l,"resize",E.onscreenresize),E.bind(l,"orientationchange",E.onscreenresize),E.bind(l,"load",E.lazyResize),z.ischrome&&!E.ispage&&!E.haswrapper){var M=E.win.attr("style"),A=parseFloat(E.win.css("width"))+1;E.win.css("width",A),E.synched("chromefix",(function(){E.win.attr("style",M)}))}if(E.onAttributeChange=function(e){E.lazyResize(E.isieold?250:30)},P.enableobserver&&(E.isie11||!1===f||(E.observerbody=new f((function(e){if(e.forEach((function(e){if("attributes"==e.type)return T.hasClass("modal-open")&&T.hasClass("modal-dialog")&&!o.contains(o(".modal-dialog")[0],E.doc[0])?E.hide():E.show()})),E.me.clientWidth!=E.page.width||E.me.clientHeight!=E.page.height)return E.lazyResize(30)})),E.observerbody.observe(s.body,{childList:!0,subtree:!0,characterData:!1,attributes:!0,attributeFilter:["class"]})),!E.ispage&&!E.haswrapper)){var O=E.win[0];!1!==f?(E.observer=new f((function(e){e.forEach(E.onAttributeChange)})),E.observer.observe(O,{childList:!0,characterData:!1,attributes:!0,subtree:!1}),E.observerremover=new f((function(e){e.forEach((function(e){if(e.removedNodes.length>0)for(var t in e.removedNodes)if(E&&e.removedNodes[t]===O)return E.remove()}))})),E.observerremover.observe(O.parentNode,{childList:!0,characterData:!1,attributes:!1,subtree:!1})):(E.bind(O,z.isie&&!z.isie9?"propertychange":"DOMAttrModified",E.onAttributeChange),z.isie9&&O.attachEvent("onpropertychange",E.onAttributeChange),E.bind(O,"DOMNodeRemoved",(function(e){e.target===O&&E.remove()})))}!E.ispage&&P.boxzoom&&E.bind(l,"resize",E.resizeZoom),E.istextarea&&(E.bind(E.win,"keydown",E.lazyResize),E.bind(E.win,"mouseup",E.lazyResize)),E.lazyResize(30)}if("IFRAME"==this.doc[0].nodeName){var R=function(){var t;E.iframexd=!1;try{(t="contentDocument"in this?this.contentDocument:this.contentWindow._doc).domain}catch(e){E.iframexd=!0,t=!1}if(E.iframexd)return"console"in l&&console.log("NiceScroll error: policy restriced iframe"),!0;if(E.forcescreen=!0,E.isiframe&&(E.iframe={doc:o(t),html:E.doc.contents().find("html")[0],body:E.doc.contents().find("body")[0]},E.getContentSize=function(){return{w:Math.max(E.iframe.html.scrollWidth,E.iframe.body.scrollWidth),h:Math.max(E.iframe.html.scrollHeight,E.iframe.body.scrollHeight)}},E.docscroll=o(E.iframe.body)),!z.isios&&P.iframeautoresize&&!E.isiframe){E.win.scrollTop(0),E.doc.height("");var r=Math.max(t.getElementsByTagName("html")[0].scrollHeight,t.body.scrollHeight);E.doc.height(r)}E.lazyResize(30),E.css(o(E.iframe.body),e),z.isios&&E.haswrapper&&E.css(o(t.body),{"-webkit-transform":"translate3d(0,0,0)"}),"contentWindow"in this?E.bind(this.contentWindow,"scroll",E.onscroll):E.bind(t,"scroll",E.onscroll),P.enablemousewheel&&E.mousewheel(t,E.onmousewheel),P.enablekeyboard&&E.bind(t,z.isopera?"keypress":"keydown",E.onkeypress),z.cantouch?(E.bind(t,"touchstart",E.ontouchstart),E.bind(t,"touchmove",E.ontouchmove)):P.emulatetouch&&(E.bind(t,"mousedown",E.ontouchstart),E.bind(t,"mousemove",(function(e){return E.ontouchmove(e,!0)})),P.grabcursorenabled&&z.cursorgrabvalue&&E.css(o(t.body),{cursor:z.cursorgrabvalue})),E.bind(t,"mouseup",E.ontouchend),E.zoom&&(P.dblclickzoom&&E.bind(t,"dblclick",E.doZoom),E.ongesturezoom&&E.bind(t,"gestureend",E.ongesturezoom))};this.doc[0].readyState&&"complete"===this.doc[0].readyState&&setTimeout((function(){R.call(E.doc[0],!1)}),500),E.bind(this.doc,"load",R)}},this.showCursor=function(e,t){if(E.cursortimeout&&(clearTimeout(E.cursortimeout),E.cursortimeout=0),E.rail){if(E.autohidedom&&(E.autohidedom.stop().css({opacity:P.cursoropacitymax}),E.cursoractive=!0),E.rail.drag&&1==E.rail.drag.pt||(void 0!==e&&!1!==e&&(E.scroll.y=e/E.scrollratio.y|0),void 0!==t&&(E.scroll.x=t/E.scrollratio.x|0)),E.cursor.css({height:E.cursorheight,top:E.scroll.y}),E.cursorh){var r=E.hasreversehr?E.scrollvaluemaxw-E.scroll.x:E.scroll.x;E.cursorh.css({width:E.cursorwidth,left:!E.rail.align&&E.rail.visibility?r+E.rail.width:r}),E.cursoractive=!0}E.zoom&&E.zoom.stop().css({opacity:P.cursoropacitymax})}},this.hideCursor=function(e){E.cursortimeout||E.rail&&E.autohidedom&&(E.hasmousefocus&&"leave"===P.autohidemode||(E.cursortimeout=setTimeout((function(){E.rail.active&&E.showonmouseevent||(E.autohidedom.stop().animate({opacity:P.cursoropacitymin}),E.zoom&&E.zoom.stop().animate({opacity:P.cursoropacitymin}),E.cursoractive=!1),E.cursortimeout=0}),e||P.hidecursordelay)))},this.noticeCursor=function(e,t,r){E.showCursor(t,r),E.rail.active||E.hideCursor(e)},this.getContentSize=E.ispage?function(){return{w:Math.max(s.body.scrollWidth,s.documentElement.scrollWidth),h:Math.max(s.body.scrollHeight,s.documentElement.scrollHeight)}}:E.haswrapper?function(){return{w:E.doc[0].offsetWidth,h:E.doc[0].offsetHeight}}:function(){return{w:E.docscroll[0].scrollWidth,h:E.docscroll[0].scrollHeight}},this.onResize=function(e,t){if(!E||!E.win)return!1;var r=E.page.maxh,i=E.page.maxw,n=E.view.h,a=E.view.w;if(E.view={w:E.ispage?E.win.width():E.win[0].clientWidth,h:E.ispage?E.win.height():E.win[0].clientHeight},E.page=t||E.getContentSize(),E.page.maxh=Math.max(0,E.page.h-E.view.h),E.page.maxw=Math.max(0,E.page.w-E.view.w),E.page.maxh==r&&E.page.maxw==i&&E.view.w==a&&E.view.h==n){if(E.ispage)return E;var o=E.win.offset();if(E.lastposition){var s=E.lastposition;if(s.top==o.top&&s.left==o.left)return E}E.lastposition=o}return 0===E.page.maxh?(E.hideRail(),E.scrollvaluemax=0,E.scroll.y=0,E.scrollratio.y=0,E.cursorheight=0,E.setScrollTop(0),E.rail&&(E.rail.scrollable=!1)):(E.page.maxh-=P.railpadding.top+P.railpadding.bottom,E.rail.scrollable=!0),0===E.page.maxw?(E.hideRailHr(),E.scrollvaluemaxw=0,E.scroll.x=0,E.scrollratio.x=0,E.cursorwidth=0,E.setScrollLeft(0),E.railh&&(E.railh.scrollable=!1)):(E.page.maxw-=P.railpadding.left+P.railpadding.right,E.railh&&(E.railh.scrollable=P.horizrailenabled)),E.railslocked=E.locked||0===E.page.maxh&&0===E.page.maxw,E.railslocked?(E.ispage||E.updateScrollBar(E.view),!1):(E.hidden||(E.rail.visibility||E.showRail(),E.railh&&!E.railh.visibility&&E.showRailHr()),E.istextarea&&E.win.css("resize")&&"none"!=E.win.css("resize")&&(E.view.h-=20),E.cursorheight=Math.min(E.view.h,Math.round(E.view.h*(E.view.h/E.page.h))),E.cursorheight=P.cursorfixedheight?P.cursorfixedheight:Math.max(P.cursorminheight,E.cursorheight),E.cursorwidth=Math.min(E.view.w,Math.round(E.view.w*(E.view.w/E.page.w))),E.cursorwidth=P.cursorfixedheight?P.cursorfixedheight:Math.max(P.cursorminheight,E.cursorwidth),E.scrollvaluemax=E.view.h-E.cursorheight-(P.railpadding.top+P.railpadding.bottom),E.hasborderbox||(E.scrollvaluemax-=E.cursor[0].offsetHeight-E.cursor[0].clientHeight),E.railh&&(E.railh.width=E.page.maxh>0?E.view.w-E.rail.width:E.view.w,E.scrollvaluemaxw=E.railh.width-E.cursorwidth-(P.railpadding.left+P.railpadding.right)),E.ispage||E.updateScrollBar(E.view),E.scrollratio={x:E.page.maxw/E.scrollvaluemaxw,y:E.page.maxh/E.scrollvaluemax},E.getScrollTop()>E.page.maxh?E.doScrollTop(E.page.maxh):(E.scroll.y=E.getScrollTop()/E.scrollratio.y|0,E.scroll.x=E.getScrollLeft()/E.scrollratio.x|0,E.cursoractive&&E.noticeCursor()),E.scroll.y&&0===E.getScrollTop()&&E.doScrollTo(E.scroll.y*E.scrollratio.y|0),E)},this.resize=E.onResize;var _=0;this.onscreenresize=function(e){clearTimeout(_);var t=!E.ispage&&!E.haswrapper;t&&E.hideRails(),_=setTimeout((function(){E&&(t&&E.showRails(),E.resize()),_=0}),120)},this.lazyResize=function(e){return clearTimeout(_),e=isNaN(e)?240:e,_=setTimeout((function(){E&&E.resize(),_=0}),e),E},this.jqbind=function(e,t,r){E.events.push({e:e,n:t,f:r,q:!0}),o(e).on(t,r)},this.mousewheel=function(e,t,r){var i="jquery"in e?e[0]:e;if("onwheel"in s.createElement("div"))E._bind(i,"wheel",t,r||!1);else{var n=void 0!==s.onmousewheel?"mousewheel":"DOMMouseScroll";k(i,n,t,r||!1),"DOMMouseScroll"==n&&k(i,"MozMousePixelScroll",t,r||!1)}};var j=!1;if(z.haseventlistener){try{var L=Object.defineProperty({},"passive",{get:function(){j=!0}});l.addEventListener("test",null,L)}catch(e){}this.stopPropagation=function(e){return!!e&&((e=e.original?e.original:e).stopPropagation(),!1)},this.cancelEvent=function(e){return e.cancelable&&e.preventDefault(),e.stopImmediatePropagation(),e.preventManipulation&&e.preventManipulation(),!1}}else Event.prototype.preventDefault=function(){this.returnValue=!1},Event.prototype.stopPropagation=function(){this.cancelBubble=!0},l.constructor.prototype.addEventListener=s.constructor.prototype.addEventListener=Element.prototype.addEventListener=function(e,t,r){this.attachEvent("on"+e,t)},l.constructor.prototype.removeEventListener=s.constructor.prototype.removeEventListener=Element.prototype.removeEventListener=function(e,t,r){this.detachEvent("on"+e,t)},this.cancelEvent=function(e){return(e=e||l.event)&&(e.cancelBubble=!0,e.cancel=!0,e.returnValue=!1),!1},this.stopPropagation=function(e){return(e=e||l.event)&&(e.cancelBubble=!0),!1};this.delegate=function(e,t,r,i,n){var a=u[t]||!1;a||(a={a:[],l:[],f:function(e){for(var t=a.l,r=!1,i=t.length-1;i>=0;i--)if(!1===(r=t[i].call(e.target,e)))return!1;return r}},E.bind(e,t,a.f,i,n),u[t]=a),E.ispage?(a.a=[E.id].concat(a.a),a.l=[r].concat(a.l)):(a.a.push(E.id),a.l.push(r))},this.undelegate=function(e,t,r,i,n){var a=u[t]||!1;if(a&&a.l)for(var o=0,s=a.l.length;o<s;o++)a.a[o]===E.id&&(a.a.splice(o),a.l.splice(o),0===a.a.length&&(E._unbind(e,t,a.l.f),u[t]=null))},this.bind=function(e,t,r,i,n){var a="jquery"in e?e[0]:e;E._bind(a,t,r,i||!1,n||!1)},this._bind=function(e,t,r,i,n){E.events.push({e:e,n:t,f:r,b:i,q:!1}),j&&n?e.addEventListener(t,r,{passive:!1,capture:i}):e.addEventListener(t,r,i||!1)},this._unbind=function(e,t,r,i){u[t]?E.undelegate(e,t,r,i):e.removeEventListener(t,r,i)},this.unbindAll=function(){for(var e=0;e<E.events.length;e++){var t=E.events[e];t.q?t.e.unbind(t.n,t.f):E._unbind(t.e,t.n,t.f,t.b)}},this.showRails=function(){return E.showRail().showRailHr()},this.showRail=function(){return 0===E.page.maxh||!E.ispage&&"none"==E.win.css("display")||(E.rail.visibility=!0,E.rail.css("display","block"),E.rail.parent().removeClass("noscroll")),E},this.showRailHr=function(){return E.railh&&(0===E.page.maxw||!E.ispage&&"none"==E.win.css("display")||(E.railh.visibility=!0,E.railh.css("display","block"))),E},this.hideRails=function(){return E.hideRail().hideRailHr()},this.hideRail=function(){return E.rail.visibility=!1,E.rail.css("display","none"),E.rail.parent().addClass("noscroll"),E},this.hideRailHr=function(){return E.railh&&(E.railh.visibility=!1,E.railh.css("display","none")),E},this.show=function(){return E.hidden=!1,E.railslocked=!1,E.showRails()},this.hide=function(){return E.hidden=!0,E.railslocked=!0,E.hideRails()},this.toggle=function(){return E.hidden?E.show():E.hide()},this.remove=function(){for(var e in E.stop(),E.cursortimeout&&clearTimeout(E.cursortimeout),E.delaylist)E.delaylist[e]&&p(E.delaylist[e].h);E.doZoomOut(),E.unbindAll(),z.isie9&&E.win[0].detachEvent("onpropertychange",E.onAttributeChange),!1!==E.observer&&E.observer.disconnect(),!1!==E.observerremover&&E.observerremover.disconnect(),!1!==E.observerbody&&E.observerbody.disconnect(),E.events=null,E.cursor&&E.cursor.remove(),E.cursorh&&E.cursorh.remove(),E.rail&&E.rail.remove(),E.railh&&E.railh.remove(),E.zoom&&E.zoom.remove();for(var t=0;t<E.saved.css.length;t++){var r=E.saved.css[t];r[0].css(r[1],void 0===r[2]?"":r[2])}E.saved=!1,E.me.data("__nicescroll","");var i=o.nicescroll;for(var n in i.each((function(e){if(this&&this.id===E.id){delete i[e];for(var t=++e;t<i.length;t++,e++)i[e]=i[t];--i.length&&delete i[i.length]}})),E)E[n]=null,delete E[n];E=null},this.scrollstart=function(e){return this.onscrollstart=e,E},this.scrollend=function(e){return this.onscrollend=e,E},this.scrollcancel=function(e){return this.onscrollcancel=e,E},this.zoomin=function(e){return this.onzoomin=e,E},this.zoomout=function(e){return this.onzoomout=e,E},this.isScrollable=function(e){var t=e.target?e.target:e;if("OPTION"==t.nodeName)return!0;for(;t&&1==t.nodeType&&t!==this.me[0]&&!/^BODY|HTML/.test(t.nodeName);){var r=o(t),i=r.css("overflowY")||r.css("overflowX")||r.css("overflow")||"";if(/scroll|auto/.test(i))return t.clientHeight!=t.scrollHeight;t=!!t.parentNode&&t.parentNode}return!1},this.getViewport=function(e){for(var t=!(!e||!e.parentNode)&&e.parentNode;t&&1==t.nodeType&&!/^BODY|HTML/.test(t.nodeName);){var r=o(t);if(/fixed|absolute/.test(r.css("position")))return r;var i=r.css("overflowY")||r.css("overflowX")||r.css("overflow")||"";if(/scroll|auto/.test(i)&&t.clientHeight!=t.scrollHeight)return r;if(r.getNiceScroll().length>0)return r;t=!!t.parentNode&&t.parentNode}return!1},this.triggerScrollStart=function(e,t,r,i,n){if(E.onscrollstart){var a={type:"scrollstart",current:{x:e,y:t},request:{x:r,y:i},end:{x:E.newscrollx,y:E.newscrolly},speed:n};E.onscrollstart.call(E,a)}},this.triggerScrollEnd=function(){if(E.onscrollend){var e=E.getScrollLeft(),t=E.getScrollTop(),r={type:"scrollend",current:{x:e,y:t},end:{x:e,y:t}};E.onscrollend.call(E,r)}};var N=0,I=0,F=0,B=1,H=!1;if(this.onmousewheel=function(e){if(E.wheelprevented||E.locked)return!1;if(E.railslocked)return E.debounced("checkunlock",E.resize,250),!1;if(E.rail.drag)return E.cancelEvent(e);if("auto"===P.oneaxismousemode&&0!==e.deltaX&&(P.oneaxismousemode=!1),P.oneaxismousemode&&0===e.deltaX&&!E.rail.scrollable)return!E.railh||!E.railh.scrollable||E.onmousewheelhr(e);var t=m(),r=!1;if(P.preservenativescrolling&&E.checkarea+600<t&&(E.nativescrollingarea=E.isScrollable(e),r=!0),E.checkarea=t,E.nativescrollingarea)return!0;var i=S(e,!1,r);return i&&(E.checkarea=0),i},this.onmousewheelhr=function(e){if(!E.wheelprevented){if(E.railslocked||!E.railh.scrollable)return!0;if(E.rail.drag)return E.cancelEvent(e);var t=m(),r=!1;return P.preservenativescrolling&&E.checkarea+600<t&&(E.nativescrollingarea=E.isScrollable(e),r=!0),E.checkarea=t,!!E.nativescrollingarea||(E.railslocked?E.cancelEvent(e):S(e,!0,r))}},this.stop=function(){return E.cancelScroll(),E.scrollmon&&E.scrollmon.stop(),E.cursorfreezed=!1,E.scroll.y=Math.round(E.getScrollTop()*(1/E.scrollratio.y)),E.noticeCursor(),E},this.getTransitionSpeed=function(e){return 80+e/72*P.scrollspeed|0},P.smoothscroll)if(E.ishwscroll&&z.hastransition&&P.usetransition&&P.smoothscroll){var G="";this.resetTransition=function(){G="",E.doc.css(z.prefixstyle+"transition-duration","0ms")},this.prepareTransition=function(e,t){var r=t?e:E.getTransitionSpeed(e),i=r+"ms";return G!==i&&(G=i,E.doc.css(z.prefixstyle+"transition-duration",i)),r},this.doScrollLeft=function(e,t){var r=E.scrollrunning?E.newscrolly:E.getScrollTop();E.doScrollPos(e,r,t)},this.doScrollTop=function(e,t){var r=E.scrollrunning?E.newscrollx:E.getScrollLeft();E.doScrollPos(r,e,t)},this.cursorupdate={running:!1,start:function(){var e=this;if(!e.running){e.running=!0;var t=function(){e.running&&d(t),E.showCursor(E.getScrollTop(),E.getScrollLeft()),E.notifyScrollEvent(E.win[0])};d(t)}},stop:function(){this.running=!1}},this.doScrollPos=function(e,t,r){var i=E.getScrollTop(),n=E.getScrollLeft();if(((E.newscrolly-i)*(t-i)<0||(E.newscrollx-n)*(e-n)<0)&&E.cancelScroll(),P.bouncescroll?(t<0?t=t/2|0:t>E.page.maxh&&(t=E.page.maxh+(t-E.page.maxh)/2|0),e<0?e=e/2|0:e>E.page.maxw&&(e=E.page.maxw+(e-E.page.maxw)/2|0)):(t<0?t=0:t>E.page.maxh&&(t=E.page.maxh),e<0?e=0:e>E.page.maxw&&(e=E.page.maxw)),E.scrollrunning&&e==E.newscrollx&&t==E.newscrolly)return!1;E.newscrolly=t,E.newscrollx=e;var a=E.getScrollTop(),o=E.getScrollLeft(),s={};s.x=e-o,s.y=t-a;var l=0|Math.sqrt(s.x*s.x+s.y*s.y),c=E.prepareTransition(l);E.scrollrunning||(E.scrollrunning=!0,E.triggerScrollStart(o,a,e,t,c),E.cursorupdate.start()),E.scrollendtrapped=!0,z.transitionend||(E.scrollendtrapped&&clearTimeout(E.scrollendtrapped),E.scrollendtrapped=setTimeout(E.onScrollTransitionEnd,c)),E.setScrollTop(E.newscrolly),E.setScrollLeft(E.newscrollx)},this.cancelScroll=function(){if(!E.scrollendtrapped)return!0;var e=E.getScrollTop(),t=E.getScrollLeft();return E.scrollrunning=!1,z.transitionend||clearTimeout(z.transitionend),E.scrollendtrapped=!1,E.resetTransition(),E.setScrollTop(e),E.railh&&E.setScrollLeft(t),E.timerscroll&&E.timerscroll.tm&&clearInterval(E.timerscroll.tm),E.timerscroll=!1,E.cursorfreezed=!1,E.cursorupdate.stop(),E.showCursor(e,t),E},this.onScrollTransitionEnd=function(){if(E.scrollendtrapped){var e=E.getScrollTop(),t=E.getScrollLeft();if(e<0?e=0:e>E.page.maxh&&(e=E.page.maxh),t<0?t=0:t>E.page.maxw&&(t=E.page.maxw),e!=E.newscrolly||t!=E.newscrollx)return E.doScrollPos(t,e,P.snapbackspeed);E.scrollrunning&&E.triggerScrollEnd(),E.scrollrunning=!1,E.scrollendtrapped=!1,E.resetTransition(),E.timerscroll=!1,E.setScrollTop(e),E.railh&&E.setScrollLeft(t),E.cursorupdate.stop(),E.noticeCursor(!1,e,t),E.cursorfreezed=!1}}}else this.doScrollLeft=function(e,t){var r=E.scrollrunning?E.newscrolly:E.getScrollTop();E.doScrollPos(e,r,t)},this.doScrollTop=function(e,t){var r=E.scrollrunning?E.newscrollx:E.getScrollLeft();E.doScrollPos(r,e,t)},this.doScrollPos=function(e,t,r){var i=E.getScrollTop(),n=E.getScrollLeft();((E.newscrolly-i)*(t-i)<0||(E.newscrollx-n)*(e-n)<0)&&E.cancelScroll();var a=!1;if(E.bouncescroll&&E.rail.visibility||(t<0?(t=0,a=!0):t>E.page.maxh&&(t=E.page.maxh,a=!0)),E.bouncescroll&&E.railh.visibility||(e<0?(e=0,a=!0):e>E.page.maxw&&(e=E.page.maxw,a=!0)),E.scrollrunning&&E.newscrolly===t&&E.newscrollx===e)return!0;E.newscrolly=t,E.newscrollx=e,E.dst={},E.dst.x=e-n,E.dst.y=t-i,E.dst.px=n,E.dst.py=i;var o=0|Math.sqrt(E.dst.x*E.dst.x+E.dst.y*E.dst.y),s=E.getTransitionSpeed(o);E.bzscroll={};var l=a?1:.58;E.bzscroll.x=new O(n,E.newscrollx,s,0,0,l,1),E.bzscroll.y=new O(i,E.newscrolly,s,0,0,l,1),m();var c=function(){if(E.scrollrunning){var e=E.bzscroll.y.getPos();E.setScrollLeft(E.bzscroll.x.getNow()),E.setScrollTop(E.bzscroll.y.getNow()),e<=1?E.timer=d(c):(E.scrollrunning=!1,E.timer=0,E.triggerScrollEnd())}};E.scrollrunning||(E.triggerScrollStart(n,i,e,t,s),E.scrollrunning=!0,E.timer=d(c))},this.cancelScroll=function(){return E.timer&&p(E.timer),E.timer=0,E.bzscroll=!1,E.scrollrunning=!1,E};else this.doScrollLeft=function(e,t){var r=E.getScrollTop();E.doScrollPos(e,r,t)},this.doScrollTop=function(e,t){var r=E.getScrollLeft();E.doScrollPos(r,e,t)},this.doScrollPos=function(e,t,r){var i=e>E.page.maxw?E.page.maxw:e;i<0&&(i=0);var n=t>E.page.maxh?E.page.maxh:t;n<0&&(n=0),E.synched("scroll",(function(){E.setScrollTop(n),E.setScrollLeft(i)}))},this.cancelScroll=function(){};this.doScrollBy=function(e,t){w(0,e)},this.doScrollLeftBy=function(e,t){w(e,0)},this.doScrollTo=function(e,t){var r=t?Math.round(e*E.scrollratio.y):e;r<0?r=0:r>E.page.maxh&&(r=E.page.maxh),E.cursorfreezed=!1,E.doScrollTop(e)},this.checkContentSize=function(){var e=E.getContentSize();e.h==E.page.h&&e.w==E.page.w||E.resize(!1,e)},E.onscroll=function(e){E.rail.drag||E.cursorfreezed||E.synched("scroll",(function(){E.scroll.y=Math.round(E.getScrollTop()/E.scrollratio.y),E.railh&&(E.scroll.x=Math.round(E.getScrollLeft()/E.scrollratio.x)),E.noticeCursor()}))},E.bind(E.docscroll,"scroll",E.onscroll),this.doZoomIn=function(e){if(!E.zoomactive){E.zoomactive=!0,E.zoomrestore={style:{}};var t=["position","top","left","zIndex","backgroundColor","marginTop","marginBottom","marginLeft","marginRight"],r=E.win[0].style;for(var i in t){var n=t[i];E.zoomrestore.style[n]=void 0!==r[n]?r[n]:""}E.zoomrestore.style.width=E.win.css("width"),E.zoomrestore.style.height=E.win.css("height"),E.zoomrestore.padding={w:E.win.outerWidth()-E.win.width(),h:E.win.outerHeight()-E.win.height()},z.isios4&&(E.zoomrestore.scrollTop=c.scrollTop(),c.scrollTop(0)),E.win.css({position:z.isios4?"absolute":"fixed",top:0,left:0,zIndex:a+100,margin:0});var o=E.win.css("backgroundColor");return(""===o||/transparent|rgba\(0, 0, 0, 0\)|rgba\(0,0,0,0\)/.test(o))&&E.win.css("backgroundColor","#fff"),E.rail.css({zIndex:a+101}),E.zoom.css({zIndex:a+102}),E.zoom.css("backgroundPosition","0 -18px"),E.resizeZoom(),E.onzoomin&&E.onzoomin.call(E),E.cancelEvent(e)}},this.doZoomOut=function(e){if(E.zoomactive)return E.zoomactive=!1,E.win.css("margin",""),E.win.css(E.zoomrestore.style),z.isios4&&c.scrollTop(E.zoomrestore.scrollTop),E.rail.css({"z-index":E.zindex}),E.zoom.css({"z-index":E.zindex}),E.zoomrestore=!1,E.zoom.css("backgroundPosition","0 0"),E.onResize(),E.onzoomout&&E.onzoomout.call(E),E.cancelEvent(e)},this.doZoom=function(e){return E.zoomactive?E.doZoomOut(e):E.doZoomIn(e)},this.resizeZoom=function(){if(E.zoomactive){var e=E.getScrollTop();E.win.css({width:c.width()-E.zoomrestore.padding.w+"px",height:c.height()-E.zoomrestore.padding.h+"px"}),E.onResize(),E.setScrollTop(Math.min(E.page.maxh,e))}},this.init(),o.nicescroll.push(this)},x=function(e){var t=this;this.nc=e,this.lastx=0,this.lasty=0,this.speedx=0,this.speedy=0,this.lasttime=0,this.steptime=0,this.snapx=!1,this.snapy=!1,this.demulx=0,this.demuly=0,this.lastscrollx=-1,this.lastscrolly=-1,this.chkx=0,this.chky=0,this.timer=0,this.reset=function(e,r){t.stop(),t.steptime=0,t.lasttime=m(),t.speedx=0,t.speedy=0,t.lastx=e,t.lasty=r,t.lastscrollx=-1,t.lastscrolly=-1},this.update=function(e,r){var i=m();t.steptime=i-t.lasttime,t.lasttime=i;var n=r-t.lasty,a=e-t.lastx,o=t.nc.getScrollTop()+n,s=t.nc.getScrollLeft()+a;t.snapx=s<0||s>t.nc.page.maxw,t.snapy=o<0||o>t.nc.page.maxh,t.speedx=a,t.speedy=n,t.lastx=e,t.lasty=r},this.stop=function(){t.nc.unsynched("domomentum2d"),t.timer&&clearTimeout(t.timer),t.timer=0,t.lastscrollx=-1,t.lastscrolly=-1},this.doSnapy=function(e,r){var i=!1;r<0?(r=0,i=!0):r>t.nc.page.maxh&&(r=t.nc.page.maxh,i=!0),e<0?(e=0,i=!0):e>t.nc.page.maxw&&(e=t.nc.page.maxw,i=!0),i?t.nc.doScrollPos(e,r,t.nc.opt.snapbackspeed):t.nc.triggerScrollEnd()},this.doMomentum=function(e){var r=m(),i=e?r+e:t.lasttime,n=t.nc.getScrollLeft(),a=t.nc.getScrollTop(),o=t.nc.page.maxh,s=t.nc.page.maxw;t.speedx=s>0?Math.min(60,t.speedx):0,t.speedy=o>0?Math.min(60,t.speedy):0;var l=i&&r-i<=60;(a<0||a>o||n<0||n>s)&&(l=!1);var c=!(!t.speedy||!l)&&t.speedy,u=!(!t.speedx||!l)&&t.speedx;if(c||u){var d=Math.max(16,t.steptime);if(d>50){var p=d/50;t.speedx*=p,t.speedy*=p,d=50}t.demulxy=0,t.lastscrollx=t.nc.getScrollLeft(),t.chkx=t.lastscrollx,t.lastscrolly=t.nc.getScrollTop(),t.chky=t.lastscrolly;var h=t.lastscrollx,f=t.lastscrolly,g=function(){var e=m()-r>600?.04:.02;t.speedx&&(h=Math.floor(t.lastscrollx-t.speedx*(1-t.demulxy)),t.lastscrollx=h,(h<0||h>s)&&(e=.1)),t.speedy&&(f=Math.floor(t.lastscrolly-t.speedy*(1-t.demulxy)),t.lastscrolly=f,(f<0||f>o)&&(e=.1)),t.demulxy=Math.min(1,t.demulxy+e),t.nc.synched("domomentum2d",(function(){t.speedx&&(t.nc.getScrollLeft(),t.chkx=h,t.nc.setScrollLeft(h)),t.speedy&&(t.nc.getScrollTop(),t.chky=f,t.nc.setScrollTop(f)),t.timer||(t.nc.hideCursor(),t.doSnapy(h,f))})),t.demulxy<1?t.timer=setTimeout(g,d):(t.stop(),t.nc.hideCursor(),t.doSnapy(h,f))};g()}else t.doSnapy(t.nc.getScrollLeft(),t.nc.getScrollTop())}},k=e.fn.scrollTop;e.cssHooks.pageYOffset={get:function(e,t,r){var i=o.data(e,"__nicescroll")||!1;return i&&i.ishwscroll?i.getScrollTop():k.call(e)},set:function(e,t){var r=o.data(e,"__nicescroll")||!1;return r&&r.ishwscroll?r.setScrollTop(parseInt(t)):k.call(e,t),this}},e.fn.scrollTop=function(e){if(void 0===e){var t=!!this[0]&&(o.data(this[0],"__nicescroll")||!1);return t&&t.ishwscroll?t.getScrollTop():k.call(this)}return this.each((function(){var t=o.data(this,"__nicescroll")||!1;t&&t.ishwscroll?t.setScrollTop(parseInt(e)):k.call(o(this),e)}))};var w=e.fn.scrollLeft;o.cssHooks.pageXOffset={get:function(e,t,r){var i=o.data(e,"__nicescroll")||!1;return i&&i.ishwscroll?i.getScrollLeft():w.call(e)},set:function(e,t){var r=o.data(e,"__nicescroll")||!1;return r&&r.ishwscroll?r.setScrollLeft(parseInt(t)):w.call(e,t),this}},e.fn.scrollLeft=function(e){if(void 0===e){var t=!!this[0]&&(o.data(this[0],"__nicescroll")||!1);return t&&t.ishwscroll?t.getScrollLeft():w.call(this)}return this.each((function(){var t=o.data(this,"__nicescroll")||!1;t&&t.ishwscroll?t.setScrollLeft(parseInt(e)):w.call(o(this),e)}))};var S=function(e){var t=this;if(this.length=0,this.name="nicescrollarray",this.each=function(e){return o.each(t,e),t},this.push=function(e){t[t.length]=e,t.length++},this.eq=function(e){return t[e]},e)for(var r=0;r<e.length;r++){var i=o.data(e[r],"__nicescroll")||!1;i&&(this[this.length]=i,this.length++)}return this};!function(e,t,r){for(var i=0,n=t.length;i<n;i++)r(e,t[i])}(S.prototype,["show","hide","toggle","onResize","resize","remove","stop","doScrollPos"],(function(e,t){e[t]=function(){var e=arguments;return this.each((function(){this[t].apply(this,e)}))}})),e.fn.getNiceScroll=function(e){return void 0===e?new S(this):this[e]&&o.data(this[e],"__nicescroll")||!1},(e.expr.pseudos||e.expr[":"]).nicescroll=function(e){return void 0!==o.data(e,"__nicescroll")},o.fn.niceScroll=function(e,t){void 0!==t||"object"!=typeof e||"jquery"in e||(t=e,e=!1);var r=new S;return this.each((function(){var i=o(this),n=o.extend({},t);if(e){var a=o(e);n.doc=a.length>1?o(e,i):a,n.win=i}!("doc"in n)||"win"in n||(n.win=i);var s=i.data("__nicescroll")||!1;s||(n.doc=n.doc||i,s=new b(n,i),i.data("__nicescroll",s)),r.push(s)})),1===r.length?r[0]:r},l.NiceScroll={getjQuery:function(){return e}},o.nicescroll||(o.nicescroll=new S,o.nicescroll.options=g)}));